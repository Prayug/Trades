{"ast":null,"code":"var _excluded = [\"item\"],\n    _excluded2 = [\"children\", \"className\", \"width\", \"height\", \"style\", \"compact\", \"title\", \"desc\"];\n\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n\n  if (null != t) {\n    var e,\n        n,\n        i,\n        u,\n        a = [],\n        f = !0,\n        o = !1;\n\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n\n    return a;\n  }\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n\n  return t;\n}\n\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n\n  return e;\n}\n\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\n\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nimport React, { Component, cloneElement, isValidElement, createElement } from 'react';\nimport isNil from 'lodash/isNil';\nimport isFunction from 'lodash/isFunction';\nimport range from 'lodash/range';\nimport get from 'lodash/get';\nimport sortBy from 'lodash/sortBy';\nimport throttle from 'lodash/throttle';\nimport find from 'lodash/find';\nimport every from 'lodash/every';\nimport clsx from 'clsx'; // eslint-disable-next-line no-restricted-imports\n\nimport invariant from 'tiny-invariant';\nimport { getRadialCursorPoints } from '../util/cursor/getRadialCursorPoints';\nimport { getTicks } from '../cartesian/getTicks';\nimport { Surface } from '../container/Surface';\nimport { Layer } from '../container/Layer';\nimport { Tooltip } from '../component/Tooltip';\nimport { Legend } from '../component/Legend';\nimport { Curve } from '../shape/Curve';\nimport { Cross } from '../shape/Cross';\nimport { Sector } from '../shape/Sector';\nimport { Dot } from '../shape/Dot';\nimport { isInRectangle, Rectangle } from '../shape/Rectangle';\nimport { filterProps, findAllByType, findChildByType, getDisplayName, getReactEventByType, isChildrenEqual, parseChildIndex, renderByOrder, validateWidthHeight } from '../util/ReactUtils';\nimport { CartesianAxis } from '../cartesian/CartesianAxis';\nimport { Brush } from '../cartesian/Brush';\nimport { getOffset } from '../util/DOMUtils';\nimport { findEntryInArray, getAnyElementOfObject, hasDuplicate, isNumber, uniqueId } from '../util/DataUtils';\nimport { appendOffsetOfLegend, calculateActiveTickIndex, combineEventHandlers, getBandSizeOfAxis, getBarPosition, getBarSizeList, getCoordinatesOfGrid, getDomainOfDataByKey, getDomainOfItemsWithSameAxis, getDomainOfStackGroups, getLegendProps, getMainColorOfGraphicItem, getStackedDataOfItem, getStackGroupsByAxisId, getTicksOfAxis, getTooltipItem, isCategoricalAxis, parseDomainOfCategoryAxis, parseErrorBarsOfAxis, parseSpecifiedDomain } from '../util/ChartUtils';\nimport { detectReferenceElementsDomain } from '../util/DetectReferenceElementsDomain';\nimport { inRangeOfSector, polarToCartesian } from '../util/PolarUtils';\nimport { shallowEqual } from '../util/ShallowEqual';\nimport { eventCenter, SYNC_EVENT } from '../util/Events';\nimport { adaptEventHandlers } from '../util/types';\nimport { AccessibilityManager } from './AccessibilityManager';\nimport { isDomainSpecifiedByUser } from '../util/isDomainSpecifiedByUser';\nimport { getActiveShapeIndexForTooltip, isFunnel, isPie, isScatter } from '../util/ActiveShapeUtils';\nimport { getCursorPoints } from '../util/cursor/getCursorPoints';\nimport { getCursorRectangle } from '../util/cursor/getCursorRectangle';\nvar ORIENT_MAP = {\n  xAxis: ['bottom', 'top'],\n  yAxis: ['left', 'right']\n};\nvar FULL_WIDTH_AND_HEIGHT = {\n  width: '100%',\n  height: '100%'\n};\nvar originCoordinate = {\n  x: 0,\n  y: 0\n};\n\nvar calculateTooltipPos = function calculateTooltipPos(rangeObj, layout) {\n  if (layout === 'horizontal') {\n    return rangeObj.x;\n  }\n\n  if (layout === 'vertical') {\n    return rangeObj.y;\n  }\n\n  if (layout === 'centric') {\n    return rangeObj.angle;\n  }\n\n  return rangeObj.radius;\n};\n\nvar getActiveCoordinate = function getActiveCoordinate(layout, tooltipTicks, activeIndex, rangeObj) {\n  var entry = tooltipTicks.find(function (tick) {\n    return tick && tick.index === activeIndex;\n  });\n\n  if (entry) {\n    if (layout === 'horizontal') {\n      return {\n        x: entry.coordinate,\n        y: rangeObj.y\n      };\n    }\n\n    if (layout === 'vertical') {\n      return {\n        x: rangeObj.x,\n        y: entry.coordinate\n      };\n    }\n\n    if (layout === 'centric') {\n      var _angle = entry.coordinate;\n      var _radius = rangeObj.radius;\n      return _objectSpread(_objectSpread(_objectSpread({}, rangeObj), polarToCartesian(rangeObj.cx, rangeObj.cy, _radius, _angle)), {}, {\n        angle: _angle,\n        radius: _radius\n      });\n    }\n\n    var radius = entry.coordinate;\n    var angle = rangeObj.angle;\n    return _objectSpread(_objectSpread(_objectSpread({}, rangeObj), polarToCartesian(rangeObj.cx, rangeObj.cy, radius, angle)), {}, {\n      angle: angle,\n      radius: radius\n    });\n  }\n\n  return originCoordinate;\n};\n\nvar getDisplayedData = function getDisplayedData(data, _ref) {\n  var graphicalItems = _ref.graphicalItems,\n      dataStartIndex = _ref.dataStartIndex,\n      dataEndIndex = _ref.dataEndIndex;\n  var itemsData = (graphicalItems !== null && graphicalItems !== void 0 ? graphicalItems : []).reduce(function (result, child) {\n    var itemData = child.props.data;\n\n    if (itemData && itemData.length) {\n      return [].concat(_toConsumableArray(result), _toConsumableArray(itemData));\n    }\n\n    return result;\n  }, []);\n\n  if (itemsData.length > 0) {\n    return itemsData;\n  }\n\n  if (data && data.length && isNumber(dataStartIndex) && isNumber(dataEndIndex)) {\n    return data.slice(dataStartIndex, dataEndIndex + 1);\n  }\n\n  return [];\n};\n\nfunction getDefaultDomainByAxisType(axisType) {\n  return axisType === 'number' ? [0, 'auto'] : undefined;\n}\n/**\n * Get the content to be displayed in the tooltip\n * @param  {Object} state          Current state\n * @param  {Array}  chartData      The data defined in chart\n * @param  {Number} activeIndex    Active index of data\n * @param  {String} activeLabel    Active label of data\n * @return {Array}                 The content of tooltip\n */\n\n\nvar getTooltipContent = function getTooltipContent(state, chartData, activeIndex, activeLabel) {\n  var graphicalItems = state.graphicalItems,\n      tooltipAxis = state.tooltipAxis;\n  var displayedData = getDisplayedData(chartData, state);\n\n  if (activeIndex < 0 || !graphicalItems || !graphicalItems.length || activeIndex >= displayedData.length) {\n    return null;\n  } // get data by activeIndex when the axis don't allow duplicated category\n\n\n  return graphicalItems.reduce(function (result, child) {\n    var _child$props$data;\n\n    var hide = child.props.hide;\n\n    if (hide) {\n      return result;\n    }\n    /**\n     * Fixes: https://github.com/recharts/recharts/issues/3669\n     * Defaulting to chartData below to fix an edge case where the tooltip does not include data from all charts\n     * when a separate dataset is passed to chart prop data and specified on Line/Area/etc prop data\n     */\n\n\n    var data = (_child$props$data = child.props.data) !== null && _child$props$data !== void 0 ? _child$props$data : chartData;\n\n    if (data && state.dataStartIndex + state.dataEndIndex !== 0) {\n      data = data.slice(state.dataStartIndex, state.dataEndIndex + 1);\n    }\n\n    var payload;\n\n    if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n      // graphic child has data props\n      var entries = data === undefined ? displayedData : data;\n      payload = findEntryInArray(entries, tooltipAxis.dataKey, activeLabel);\n    } else {\n      payload = data && data[activeIndex] || displayedData[activeIndex];\n    }\n\n    if (!payload) {\n      return result;\n    }\n\n    return [].concat(_toConsumableArray(result), [getTooltipItem(child, payload)]);\n  }, []);\n};\n/**\n * Returns tooltip data based on a mouse position (as a parameter or in state)\n * @param  {Object} state     current state\n * @param  {Array}  chartData the data defined in chart\n * @param  {String} layout     The layout type of chart\n * @param  {Object} rangeObj  { x, y } coordinates\n * @return {Object}           Tooltip data data\n */\n\n\nvar getTooltipData = function getTooltipData(state, chartData, layout, rangeObj) {\n  var rangeData = rangeObj || {\n    x: state.chartX,\n    y: state.chartY\n  };\n  var pos = calculateTooltipPos(rangeData, layout);\n  var ticks = state.orderedTooltipTicks,\n      axis = state.tooltipAxis,\n      tooltipTicks = state.tooltipTicks;\n  var activeIndex = calculateActiveTickIndex(pos, ticks, tooltipTicks, axis);\n\n  if (activeIndex >= 0 && tooltipTicks) {\n    var activeLabel = tooltipTicks[activeIndex] && tooltipTicks[activeIndex].value;\n    var activePayload = getTooltipContent(state, chartData, activeIndex, activeLabel);\n    var activeCoordinate = getActiveCoordinate(layout, ticks, activeIndex, rangeData);\n    return {\n      activeTooltipIndex: activeIndex,\n      activeLabel: activeLabel,\n      activePayload: activePayload,\n      activeCoordinate: activeCoordinate\n    };\n  }\n\n  return null;\n};\n/**\n * Get the configuration of axis by the options of axis instance\n * @param  {Object} props         Latest props\n * @param {Array}  axes           The instance of axes\n * @param  {Array} graphicalItems The instances of item\n * @param  {String} axisType      The type of axis, xAxis - x-axis, yAxis - y-axis\n * @param  {String} axisIdKey     The unique id of an axis\n * @param  {Object} stackGroups   The items grouped by axisId and stackId\n * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n * @return {Object}      Configuration\n */\n\n\nexport var getAxisMapByAxes = function getAxisMapByAxes(props, _ref2) {\n  var axes = _ref2.axes,\n      graphicalItems = _ref2.graphicalItems,\n      axisType = _ref2.axisType,\n      axisIdKey = _ref2.axisIdKey,\n      stackGroups = _ref2.stackGroups,\n      dataStartIndex = _ref2.dataStartIndex,\n      dataEndIndex = _ref2.dataEndIndex;\n  var layout = props.layout,\n      children = props.children,\n      stackOffset = props.stackOffset;\n  var isCategorical = isCategoricalAxis(layout, axisType); // Eliminate duplicated axes\n\n  return axes.reduce(function (result, child) {\n    var _child$props$domain2;\n\n    var _child$props = child.props,\n        type = _child$props.type,\n        dataKey = _child$props.dataKey,\n        allowDataOverflow = _child$props.allowDataOverflow,\n        allowDuplicatedCategory = _child$props.allowDuplicatedCategory,\n        scale = _child$props.scale,\n        ticks = _child$props.ticks,\n        includeHidden = _child$props.includeHidden;\n    var axisId = child.props[axisIdKey];\n\n    if (result[axisId]) {\n      return result;\n    }\n\n    var displayedData = getDisplayedData(props.data, {\n      graphicalItems: graphicalItems.filter(function (item) {\n        return item.props[axisIdKey] === axisId;\n      }),\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex\n    });\n    var len = displayedData.length;\n    var domain, duplicateDomain, categoricalDomain;\n    /*\n     * This is a hack to short-circuit the domain creation here to enhance performance.\n     * Usually, the data is used to determine the domain, but when the user specifies\n     * a domain upfront (via props), there is no need to calculate the domain start and end,\n     * which is very expensive for a larger amount of data.\n     * The only thing that would prohibit short-circuiting is when the user doesn't allow data overflow,\n     * because the axis is supposed to ignore the specified domain that way.\n     */\n\n    if (isDomainSpecifiedByUser(child.props.domain, allowDataOverflow, type)) {\n      domain = parseSpecifiedDomain(child.props.domain, null, allowDataOverflow);\n      /* The chart can be categorical and have the domain specified in numbers\n       * we still need to calculate the categorical domain\n       * TODO: refactor this more\n       */\n\n      if (isCategorical && (type === 'number' || scale !== 'auto')) {\n        categoricalDomain = getDomainOfDataByKey(displayedData, dataKey, 'category');\n      }\n    } // if the domain is defaulted we need this for `originalDomain` as well\n\n\n    var defaultDomain = getDefaultDomainByAxisType(type); // we didn't create the domain from user's props above, so we need to calculate it\n\n    if (!domain || domain.length === 0) {\n      var _child$props$domain;\n\n      var childDomain = (_child$props$domain = child.props.domain) !== null && _child$props$domain !== void 0 ? _child$props$domain : defaultDomain;\n\n      if (dataKey) {\n        // has dataKey in <Axis />\n        domain = getDomainOfDataByKey(displayedData, dataKey, type);\n\n        if (type === 'category' && isCategorical) {\n          // the field type is category data and this axis is categorical axis\n          var duplicate = hasDuplicate(domain);\n\n          if (allowDuplicatedCategory && duplicate) {\n            duplicateDomain = domain; // When category axis has duplicated text, serial numbers are used to generate scale\n\n            domain = range(0, len);\n          } else if (!allowDuplicatedCategory) {\n            // remove duplicated category\n            domain = parseDomainOfCategoryAxis(childDomain, domain, child).reduce(function (finalDomain, entry) {\n              return finalDomain.indexOf(entry) >= 0 ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n            }, []);\n          }\n        } else if (type === 'category') {\n          // the field type is category data and this axis is numerical axis\n          if (!allowDuplicatedCategory) {\n            domain = parseDomainOfCategoryAxis(childDomain, domain, child).reduce(function (finalDomain, entry) {\n              return finalDomain.indexOf(entry) >= 0 || entry === '' || isNil(entry) ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n            }, []);\n          } else {\n            // eliminate undefined or null or empty string\n            domain = domain.filter(function (entry) {\n              return entry !== '' && !isNil(entry);\n            });\n          }\n        } else if (type === 'number') {\n          // the field type is numerical\n          var errorBarsDomain = parseErrorBarsOfAxis(displayedData, graphicalItems.filter(function (item) {\n            return item.props[axisIdKey] === axisId && (includeHidden || !item.props.hide);\n          }), dataKey, axisType, layout);\n\n          if (errorBarsDomain) {\n            domain = errorBarsDomain;\n          }\n        }\n\n        if (isCategorical && (type === 'number' || scale !== 'auto')) {\n          categoricalDomain = getDomainOfDataByKey(displayedData, dataKey, 'category');\n        }\n      } else if (isCategorical) {\n        // the axis is a categorical axis\n        domain = range(0, len);\n      } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack && type === 'number') {\n        // when stackOffset is 'expand', the domain may be calculated as [0, 1.000000000002]\n        domain = stackOffset === 'expand' ? [0, 1] : getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n      } else {\n        domain = getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n          return item.props[axisIdKey] === axisId && (includeHidden || !item.props.hide);\n        }), type, layout, true);\n      }\n\n      if (type === 'number') {\n        // To detect wether there is any reference lines whose props alwaysShow is true\n        domain = detectReferenceElementsDomain(children, domain, axisId, axisType, ticks);\n\n        if (childDomain) {\n          domain = parseSpecifiedDomain(childDomain, domain, allowDataOverflow);\n        }\n      } else if (type === 'category' && childDomain) {\n        var axisDomain = childDomain;\n        var isDomainValid = domain.every(function (entry) {\n          return axisDomain.indexOf(entry) >= 0;\n        });\n\n        if (isDomainValid) {\n          domain = axisDomain;\n        }\n      }\n    }\n\n    return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, axisId, _objectSpread(_objectSpread({}, child.props), {}, {\n      axisType: axisType,\n      domain: domain,\n      categoricalDomain: categoricalDomain,\n      duplicateDomain: duplicateDomain,\n      originalDomain: (_child$props$domain2 = child.props.domain) !== null && _child$props$domain2 !== void 0 ? _child$props$domain2 : defaultDomain,\n      isCategorical: isCategorical,\n      layout: layout\n    })));\n  }, {});\n};\n/**\n * Get the configuration of axis by the options of item,\n * this kind of axis does not display in chart\n * @param  {Object} props         Latest props\n * @param  {Array} graphicalItems The instances of item\n * @param  {ReactElement} Axis    Axis Component\n * @param  {String} axisType      The type of axis, xAxis - x-axis, yAxis - y-axis\n * @param  {String} axisIdKey     The unique id of an axis\n * @param  {Object} stackGroups   The items grouped by axisId and stackId\n * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n * @return {Object}               Configuration\n */\n\nvar getAxisMapByItems = function getAxisMapByItems(props, _ref3) {\n  var graphicalItems = _ref3.graphicalItems,\n      Axis = _ref3.Axis,\n      axisType = _ref3.axisType,\n      axisIdKey = _ref3.axisIdKey,\n      stackGroups = _ref3.stackGroups,\n      dataStartIndex = _ref3.dataStartIndex,\n      dataEndIndex = _ref3.dataEndIndex;\n  var layout = props.layout,\n      children = props.children;\n  var displayedData = getDisplayedData(props.data, {\n    graphicalItems: graphicalItems,\n    dataStartIndex: dataStartIndex,\n    dataEndIndex: dataEndIndex\n  });\n  var len = displayedData.length;\n  var isCategorical = isCategoricalAxis(layout, axisType);\n  var index = -1; // The default type of x-axis is category axis,\n  // The default contents of x-axis is the serial numbers of data\n  // The default type of y-axis is number axis\n  // The default contents of y-axis is the domain of data\n\n  return graphicalItems.reduce(function (result, child) {\n    var axisId = child.props[axisIdKey];\n    var originalDomain = getDefaultDomainByAxisType('number');\n\n    if (!result[axisId]) {\n      index++;\n      var domain;\n\n      if (isCategorical) {\n        domain = range(0, len);\n      } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack) {\n        domain = getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n        domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n      } else {\n        domain = parseSpecifiedDomain(originalDomain, getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n          return item.props[axisIdKey] === axisId && !item.props.hide;\n        }), 'number', layout), Axis.defaultProps.allowDataOverflow);\n        domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n      }\n\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, axisId, _objectSpread(_objectSpread({\n        axisType: axisType\n      }, Axis.defaultProps), {}, {\n        hide: true,\n        orientation: get(ORIENT_MAP, \"\".concat(axisType, \".\").concat(index % 2), null),\n        domain: domain,\n        originalDomain: originalDomain,\n        isCategorical: isCategorical,\n        layout: layout // specify scale when no Axis\n        // scale: isCategorical ? 'band' : 'linear',\n\n      })));\n    }\n\n    return result;\n  }, {});\n};\n/**\n * Get the configuration of all x-axis or y-axis\n * @param  {Object} props          Latest props\n * @param  {String} axisType       The type of axis\n * @param  {React.ComponentType}  [AxisComp]      Axis Component\n * @param  {Array}  graphicalItems The instances of item\n * @param  {Object} stackGroups    The items grouped by axisId and stackId\n * @param {Number} dataStartIndex  The start index of the data series when a brush is applied\n * @param {Number} dataEndIndex    The end index of the data series when a brush is applied\n * @return {Object}          Configuration\n */\n\n\nvar getAxisMap = function getAxisMap(props, _ref4) {\n  var _ref4$axisType = _ref4.axisType,\n      axisType = _ref4$axisType === void 0 ? 'xAxis' : _ref4$axisType,\n      AxisComp = _ref4.AxisComp,\n      graphicalItems = _ref4.graphicalItems,\n      stackGroups = _ref4.stackGroups,\n      dataStartIndex = _ref4.dataStartIndex,\n      dataEndIndex = _ref4.dataEndIndex;\n  var children = props.children;\n  var axisIdKey = \"\".concat(axisType, \"Id\"); // Get all the instance of Axis\n\n  var axes = findAllByType(children, AxisComp);\n  var axisMap = {};\n\n  if (axes && axes.length) {\n    axisMap = getAxisMapByAxes(props, {\n      axes: axes,\n      graphicalItems: graphicalItems,\n      axisType: axisType,\n      axisIdKey: axisIdKey,\n      stackGroups: stackGroups,\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex\n    });\n  } else if (graphicalItems && graphicalItems.length) {\n    axisMap = getAxisMapByItems(props, {\n      Axis: AxisComp,\n      graphicalItems: graphicalItems,\n      axisType: axisType,\n      axisIdKey: axisIdKey,\n      stackGroups: stackGroups,\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex\n    });\n  }\n\n  return axisMap;\n};\n\nvar tooltipTicksGenerator = function tooltipTicksGenerator(axisMap) {\n  var axis = getAnyElementOfObject(axisMap);\n  var tooltipTicks = getTicksOfAxis(axis, false, true);\n  return {\n    tooltipTicks: tooltipTicks,\n    orderedTooltipTicks: sortBy(tooltipTicks, function (o) {\n      return o.coordinate;\n    }),\n    tooltipAxis: axis,\n    tooltipAxisBandSize: getBandSizeOfAxis(axis, tooltipTicks)\n  };\n};\n/**\n * Returns default, reset state for the categorical chart.\n * @param {Object} props Props object to use when creating the default state\n * @return {Object} Whole new state\n */\n\n\nexport var createDefaultState = function createDefaultState(props) {\n  var children = props.children,\n      defaultShowTooltip = props.defaultShowTooltip;\n  var brushItem = findChildByType(children, Brush);\n  var startIndex = 0;\n  var endIndex = 0;\n\n  if (props.data && props.data.length !== 0) {\n    endIndex = props.data.length - 1;\n  }\n\n  if (brushItem && brushItem.props) {\n    if (brushItem.props.startIndex >= 0) {\n      startIndex = brushItem.props.startIndex;\n    }\n\n    if (brushItem.props.endIndex >= 0) {\n      endIndex = brushItem.props.endIndex;\n    }\n  }\n\n  return {\n    chartX: 0,\n    chartY: 0,\n    dataStartIndex: startIndex,\n    dataEndIndex: endIndex,\n    activeTooltipIndex: -1,\n    isTooltipActive: Boolean(defaultShowTooltip)\n  };\n};\n\nvar hasGraphicalBarItem = function hasGraphicalBarItem(graphicalItems) {\n  if (!graphicalItems || !graphicalItems.length) {\n    return false;\n  }\n\n  return graphicalItems.some(function (item) {\n    var name = getDisplayName(item && item.type);\n    return name && name.indexOf('Bar') >= 0;\n  });\n};\n\nvar getAxisNameByLayout = function getAxisNameByLayout(layout) {\n  if (layout === 'horizontal') {\n    return {\n      numericAxisName: 'yAxis',\n      cateAxisName: 'xAxis'\n    };\n  }\n\n  if (layout === 'vertical') {\n    return {\n      numericAxisName: 'xAxis',\n      cateAxisName: 'yAxis'\n    };\n  }\n\n  if (layout === 'centric') {\n    return {\n      numericAxisName: 'radiusAxis',\n      cateAxisName: 'angleAxis'\n    };\n  }\n\n  return {\n    numericAxisName: 'angleAxis',\n    cateAxisName: 'radiusAxis'\n  };\n};\n/**\n * Calculate the offset of main part in the svg element\n * @param  {Object} params.props          Latest props\n * @param  {Array}  params.graphicalItems The instances of item\n * @param  {Object} params.xAxisMap       The configuration of x-axis\n * @param  {Object} params.yAxisMap       The configuration of y-axis\n * @param  {Object} prevLegendBBox        The boundary box of legend\n * @return {Object} The offset of main part in the svg element\n */\n\n\nvar calculateOffset = function calculateOffset(_ref5, prevLegendBBox) {\n  var props = _ref5.props,\n      graphicalItems = _ref5.graphicalItems,\n      _ref5$xAxisMap = _ref5.xAxisMap,\n      xAxisMap = _ref5$xAxisMap === void 0 ? {} : _ref5$xAxisMap,\n      _ref5$yAxisMap = _ref5.yAxisMap,\n      yAxisMap = _ref5$yAxisMap === void 0 ? {} : _ref5$yAxisMap;\n  var width = props.width,\n      height = props.height,\n      children = props.children;\n  var margin = props.margin || {};\n  var brushItem = findChildByType(children, Brush);\n  var legendItem = findChildByType(children, Legend);\n  var offsetH = Object.keys(yAxisMap).reduce(function (result, id) {\n    var entry = yAxisMap[id];\n    var orientation = entry.orientation;\n\n    if (!entry.mirror && !entry.hide) {\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, orientation, result[orientation] + entry.width));\n    }\n\n    return result;\n  }, {\n    left: margin.left || 0,\n    right: margin.right || 0\n  });\n  var offsetV = Object.keys(xAxisMap).reduce(function (result, id) {\n    var entry = xAxisMap[id];\n    var orientation = entry.orientation;\n\n    if (!entry.mirror && !entry.hide) {\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, orientation, get(result, \"\".concat(orientation)) + entry.height));\n    }\n\n    return result;\n  }, {\n    top: margin.top || 0,\n    bottom: margin.bottom || 0\n  });\n\n  var offset = _objectSpread(_objectSpread({}, offsetV), offsetH);\n\n  var brushBottom = offset.bottom;\n\n  if (brushItem) {\n    offset.bottom += brushItem.props.height || Brush.defaultProps.height;\n  }\n\n  if (legendItem && prevLegendBBox) {\n    // @ts-expect-error margin is optional in props but required in appendOffsetOfLegend\n    offset = appendOffsetOfLegend(offset, graphicalItems, props, prevLegendBBox);\n  }\n\n  var offsetWidth = width - offset.left - offset.right;\n  var offsetHeight = height - offset.top - offset.bottom;\n  return _objectSpread(_objectSpread({\n    brushBottom: brushBottom\n  }, offset), {}, {\n    // never return negative values for height and width\n    width: Math.max(offsetWidth, 0),\n    height: Math.max(offsetHeight, 0)\n  });\n};\n\nexport var generateCategoricalChart = function generateCategoricalChart(_ref6) {\n  var _class;\n\n  var chartName = _ref6.chartName,\n      GraphicalChild = _ref6.GraphicalChild,\n      _ref6$defaultTooltipE = _ref6.defaultTooltipEventType,\n      defaultTooltipEventType = _ref6$defaultTooltipE === void 0 ? 'axis' : _ref6$defaultTooltipE,\n      _ref6$validateTooltip = _ref6.validateTooltipEventTypes,\n      validateTooltipEventTypes = _ref6$validateTooltip === void 0 ? ['axis'] : _ref6$validateTooltip,\n      axisComponents = _ref6.axisComponents,\n      legendContent = _ref6.legendContent,\n      formatAxisMap = _ref6.formatAxisMap,\n      defaultProps = _ref6.defaultProps;\n\n  var getFormatItems = function getFormatItems(props, currentState) {\n    var graphicalItems = currentState.graphicalItems,\n        stackGroups = currentState.stackGroups,\n        offset = currentState.offset,\n        updateId = currentState.updateId,\n        dataStartIndex = currentState.dataStartIndex,\n        dataEndIndex = currentState.dataEndIndex;\n    var barSize = props.barSize,\n        layout = props.layout,\n        barGap = props.barGap,\n        barCategoryGap = props.barCategoryGap,\n        globalMaxBarSize = props.maxBarSize;\n\n    var _getAxisNameByLayout = getAxisNameByLayout(layout),\n        numericAxisName = _getAxisNameByLayout.numericAxisName,\n        cateAxisName = _getAxisNameByLayout.cateAxisName;\n\n    var hasBar = hasGraphicalBarItem(graphicalItems);\n    var sizeList = hasBar && getBarSizeList({\n      barSize: barSize,\n      stackGroups: stackGroups\n    });\n    var formattedItems = [];\n    graphicalItems.forEach(function (item, index) {\n      var displayedData = getDisplayedData(props.data, {\n        graphicalItems: [item],\n        dataStartIndex: dataStartIndex,\n        dataEndIndex: dataEndIndex\n      });\n      var _item$props = item.props,\n          dataKey = _item$props.dataKey,\n          childMaxBarSize = _item$props.maxBarSize; // axisId of the numerical axis\n\n      var numericAxisId = item.props[\"\".concat(numericAxisName, \"Id\")]; // axisId of the categorical axis\n\n      var cateAxisId = item.props[\"\".concat(cateAxisName, \"Id\")];\n      var axisObjInitialValue = {};\n      var axisObj = axisComponents.reduce(function (result, entry) {\n        var _item$type$displayNam, _item$type, _objectSpread6; // map of axisId to axis for a specific axis type\n\n\n        var axisMap = currentState[\"\".concat(entry.axisType, \"Map\")]; // axisId of axis we are currently computing\n\n        var id = item.props[\"\".concat(entry.axisType, \"Id\")];\n        /**\n         * tell the user in dev mode that their configuration is incorrect if we cannot find a match between\n         * axisId on the chart and axisId on the axis. zAxis does not get passed in the map for ComposedChart,\n         * leave it out of the check for now.\n         */\n\n        !(axisMap && axisMap[id] || entry.axisType === 'zAxis') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Specifying a(n) \".concat(entry.axisType, \"Id requires a corresponding \").concat(entry.axisType // @ts-expect-error we should stop reading data from ReactElements\n        , \"Id on the targeted graphical component \").concat((_item$type$displayNam = item === null || item === void 0 || (_item$type = item.type) === null || _item$type === void 0 ? void 0 : _item$type.displayName) !== null && _item$type$displayNam !== void 0 ? _item$type$displayNam : '')) : invariant(false) : void 0; // the axis we are currently formatting\n\n        var axis = axisMap[id];\n        return _objectSpread(_objectSpread({}, result), {}, (_objectSpread6 = {}, _defineProperty(_objectSpread6, entry.axisType, axis), _defineProperty(_objectSpread6, \"\".concat(entry.axisType, \"Ticks\"), getTicksOfAxis(axis)), _objectSpread6));\n      }, axisObjInitialValue);\n      var cateAxis = axisObj[cateAxisName];\n      var cateTicks = axisObj[\"\".concat(cateAxisName, \"Ticks\")];\n      var stackedData = stackGroups && stackGroups[numericAxisId] && stackGroups[numericAxisId].hasStack && getStackedDataOfItem(item, stackGroups[numericAxisId].stackGroups);\n      var itemIsBar = getDisplayName(item.type).indexOf('Bar') >= 0;\n      var bandSize = getBandSizeOfAxis(cateAxis, cateTicks);\n      var barPosition = [];\n\n      if (itemIsBar) {\n        var _ref7, _getBandSizeOfAxis; // 如果是bar，计算bar的位置\n\n\n        var maxBarSize = isNil(childMaxBarSize) ? globalMaxBarSize : childMaxBarSize;\n        var barBandSize = (_ref7 = (_getBandSizeOfAxis = getBandSizeOfAxis(cateAxis, cateTicks, true)) !== null && _getBandSizeOfAxis !== void 0 ? _getBandSizeOfAxis : maxBarSize) !== null && _ref7 !== void 0 ? _ref7 : 0;\n        barPosition = getBarPosition({\n          barGap: barGap,\n          barCategoryGap: barCategoryGap,\n          bandSize: barBandSize !== bandSize ? barBandSize : bandSize,\n          sizeList: sizeList[cateAxisId],\n          maxBarSize: maxBarSize\n        });\n\n        if (barBandSize !== bandSize) {\n          barPosition = barPosition.map(function (pos) {\n            return _objectSpread(_objectSpread({}, pos), {}, {\n              position: _objectSpread(_objectSpread({}, pos.position), {}, {\n                offset: pos.position.offset - barBandSize / 2\n              })\n            });\n          });\n        }\n      } // @ts-expect-error we should stop reading data from ReactElements\n\n\n      var composedFn = item && item.type && item.type.getComposedData;\n\n      if (composedFn) {\n        var _objectSpread7;\n\n        formattedItems.push({\n          props: _objectSpread(_objectSpread({}, composedFn(_objectSpread(_objectSpread({}, axisObj), {}, {\n            displayedData: displayedData,\n            props: props,\n            dataKey: dataKey,\n            item: item,\n            bandSize: bandSize,\n            barPosition: barPosition,\n            offset: offset,\n            stackedData: stackedData,\n            layout: layout,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }))), {}, (_objectSpread7 = {\n            key: item.key || \"item-\".concat(index)\n          }, _defineProperty(_objectSpread7, numericAxisName, axisObj[numericAxisName]), _defineProperty(_objectSpread7, cateAxisName, axisObj[cateAxisName]), _defineProperty(_objectSpread7, \"animationId\", updateId), _objectSpread7)),\n          childIndex: parseChildIndex(item, props.children),\n          item: item\n        });\n      }\n    });\n    return formattedItems;\n  };\n  /**\n   * The AxisMaps are expensive to render on large data sets\n   * so provide the ability to store them in state and only update them when necessary\n   * they are dependent upon the start and end index of\n   * the brush so it's important that this method is called _after_\n   * the state is updated with any new start/end indices\n   *\n   * @param {Object} props          The props object to be used for updating the axismaps\n   * dataStartIndex: The start index of the data series when a brush is applied\n   * dataEndIndex: The end index of the data series when a brush is applied\n   * updateId: The update id\n   * @param {Object} prevState      Prev state\n   * @return {Object} state New state to set\n   */\n\n\n  var updateStateOfAxisMapsOffsetAndStackGroups = function updateStateOfAxisMapsOffsetAndStackGroups(_ref8, prevState) {\n    var props = _ref8.props,\n        dataStartIndex = _ref8.dataStartIndex,\n        dataEndIndex = _ref8.dataEndIndex,\n        updateId = _ref8.updateId;\n\n    if (!validateWidthHeight({\n      props: props\n    })) {\n      return null;\n    }\n\n    var children = props.children,\n        layout = props.layout,\n        stackOffset = props.stackOffset,\n        data = props.data,\n        reverseStackOrder = props.reverseStackOrder;\n\n    var _getAxisNameByLayout2 = getAxisNameByLayout(layout),\n        numericAxisName = _getAxisNameByLayout2.numericAxisName,\n        cateAxisName = _getAxisNameByLayout2.cateAxisName;\n\n    var graphicalItems = findAllByType(children, GraphicalChild);\n    var stackGroups = getStackGroupsByAxisId(data, graphicalItems, \"\".concat(numericAxisName, \"Id\"), \"\".concat(cateAxisName, \"Id\"), stackOffset, reverseStackOrder);\n    var axisObj = axisComponents.reduce(function (result, entry) {\n      var name = \"\".concat(entry.axisType, \"Map\");\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, name, getAxisMap(props, _objectSpread(_objectSpread({}, entry), {}, {\n        graphicalItems: graphicalItems,\n        stackGroups: entry.axisType === numericAxisName && stackGroups,\n        dataStartIndex: dataStartIndex,\n        dataEndIndex: dataEndIndex\n      }))));\n    }, {});\n    var offset = calculateOffset(_objectSpread(_objectSpread({}, axisObj), {}, {\n      props: props,\n      graphicalItems: graphicalItems\n    }), prevState === null || prevState === void 0 ? void 0 : prevState.legendBBox);\n    Object.keys(axisObj).forEach(function (key) {\n      axisObj[key] = formatAxisMap(props, axisObj[key], offset, key.replace('Map', ''), chartName);\n    });\n    var cateAxisMap = axisObj[\"\".concat(cateAxisName, \"Map\")];\n    var ticksObj = tooltipTicksGenerator(cateAxisMap);\n    var formattedGraphicalItems = getFormatItems(props, _objectSpread(_objectSpread({}, axisObj), {}, {\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex,\n      updateId: updateId,\n      graphicalItems: graphicalItems,\n      stackGroups: stackGroups,\n      offset: offset\n    }));\n    return _objectSpread(_objectSpread({\n      formattedGraphicalItems: formattedGraphicalItems,\n      graphicalItems: graphicalItems,\n      offset: offset,\n      stackGroups: stackGroups\n    }, ticksObj), axisObj);\n  };\n\n  return _class = /*#__PURE__*/function (_Component) {\n    _inherits(CategoricalChartWrapper, _Component);\n\n    var _super = _createSuper(CategoricalChartWrapper);\n\n    function CategoricalChartWrapper(_props) {\n      var _props$id, _props$throttleDelay;\n\n      var _this;\n\n      _classCallCheck(this, CategoricalChartWrapper);\n\n      _this = _super.call(this, _props);\n\n      _defineProperty(_assertThisInitialized(_this), \"eventEmitterSymbol\", Symbol('rechartsEventEmitter'));\n\n      _defineProperty(_assertThisInitialized(_this), \"accessibilityManager\", new AccessibilityManager());\n\n      _defineProperty(_assertThisInitialized(_this), \"handleLegendBBoxUpdate\", function (box) {\n        if (box) {\n          var _this$state = _this.state,\n              dataStartIndex = _this$state.dataStartIndex,\n              dataEndIndex = _this$state.dataEndIndex,\n              updateId = _this$state.updateId;\n\n          _this.setState(_objectSpread({\n            legendBBox: box\n          }, updateStateOfAxisMapsOffsetAndStackGroups({\n            props: _this.props,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex,\n            updateId: updateId\n          }, _objectSpread(_objectSpread({}, _this.state), {}, {\n            legendBBox: box\n          }))));\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleReceiveSyncEvent\", function (cId, data, emitter) {\n        if (_this.props.syncId === cId) {\n          if (emitter === _this.eventEmitterSymbol && typeof _this.props.syncMethod !== 'function') {\n            return;\n          }\n\n          _this.applySyncEvent(data);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleBrushChange\", function (_ref9) {\n        var startIndex = _ref9.startIndex,\n            endIndex = _ref9.endIndex; // Only trigger changes if the extents of the brush have actually changed\n\n        if (startIndex !== _this.state.dataStartIndex || endIndex !== _this.state.dataEndIndex) {\n          var updateId = _this.state.updateId;\n\n          _this.setState(function () {\n            return _objectSpread({\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex\n            }, updateStateOfAxisMapsOffsetAndStackGroups({\n              props: _this.props,\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex,\n              updateId: updateId\n            }, _this.state));\n          });\n\n          _this.triggerSyncEvent({\n            dataStartIndex: startIndex,\n            dataEndIndex: endIndex\n          });\n        }\n      });\n      /**\n       * The handler of mouse entering chart\n       * @param  {Object} e              Event object\n       * @return {Null}                  null\n       */\n\n\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseEnter\", function (e) {\n        var mouse = _this.getMouseInfo(e);\n\n        if (mouse) {\n          var _nextState = _objectSpread(_objectSpread({}, mouse), {}, {\n            isTooltipActive: true\n          });\n\n          _this.setState(_nextState);\n\n          _this.triggerSyncEvent(_nextState);\n\n          var onMouseEnter = _this.props.onMouseEnter;\n\n          if (isFunction(onMouseEnter)) {\n            onMouseEnter(_nextState, e);\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"triggeredAfterMouseMove\", function (e) {\n        var mouse = _this.getMouseInfo(e);\n\n        var nextState = mouse ? _objectSpread(_objectSpread({}, mouse), {}, {\n          isTooltipActive: true\n        }) : {\n          isTooltipActive: false\n        };\n\n        _this.setState(nextState);\n\n        _this.triggerSyncEvent(nextState);\n\n        var onMouseMove = _this.props.onMouseMove;\n\n        if (isFunction(onMouseMove)) {\n          onMouseMove(nextState, e);\n        }\n      });\n      /**\n       * The handler of mouse entering a scatter\n       * @param {Object} el The active scatter\n       * @return {Object} no return\n       */\n\n\n      _defineProperty(_assertThisInitialized(_this), \"handleItemMouseEnter\", function (el) {\n        _this.setState(function () {\n          return {\n            isTooltipActive: true,\n            activeItem: el,\n            activePayload: el.tooltipPayload,\n            activeCoordinate: el.tooltipPosition || {\n              x: el.cx,\n              y: el.cy\n            }\n          };\n        });\n      });\n      /**\n       * The handler of mouse leaving a scatter\n       * @return {Object} no return\n       */\n\n\n      _defineProperty(_assertThisInitialized(_this), \"handleItemMouseLeave\", function () {\n        _this.setState(function () {\n          return {\n            isTooltipActive: false\n          };\n        });\n      });\n      /**\n       * The handler of mouse moving in chart\n       * @param  {React.MouseEvent} e        Event object\n       * @return {void} no return\n       */\n\n\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseMove\", function (e) {\n        e.persist();\n\n        _this.throttleTriggeredAfterMouseMove(e);\n      });\n      /**\n       * The handler if mouse leaving chart\n       * @param {Object} e Event object\n       * @return {Null} no return\n       */\n\n\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseLeave\", function (e) {\n        var nextState = {\n          isTooltipActive: false\n        };\n\n        _this.setState(nextState);\n\n        _this.triggerSyncEvent(nextState);\n\n        var onMouseLeave = _this.props.onMouseLeave;\n\n        if (isFunction(onMouseLeave)) {\n          onMouseLeave(nextState, e);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleOuterEvent\", function (e) {\n        var eventName = getReactEventByType(e);\n        var event = get(_this.props, \"\".concat(eventName));\n\n        if (eventName && isFunction(event)) {\n          var _mouse;\n\n          var mouse;\n\n          if (/.*touch.*/i.test(eventName)) {\n            mouse = _this.getMouseInfo(e.changedTouches[0]);\n          } else {\n            mouse = _this.getMouseInfo(e);\n          }\n\n          event((_mouse = mouse) !== null && _mouse !== void 0 ? _mouse : {}, e);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (e) {\n        var mouse = _this.getMouseInfo(e);\n\n        if (mouse) {\n          var _nextState2 = _objectSpread(_objectSpread({}, mouse), {}, {\n            isTooltipActive: true\n          });\n\n          _this.setState(_nextState2);\n\n          _this.triggerSyncEvent(_nextState2);\n\n          var onClick = _this.props.onClick;\n\n          if (isFunction(onClick)) {\n            onClick(_nextState2, e);\n          }\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseDown\", function (e) {\n        var onMouseDown = _this.props.onMouseDown;\n\n        if (isFunction(onMouseDown)) {\n          var _nextState3 = _this.getMouseInfo(e);\n\n          onMouseDown(_nextState3, e);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseUp\", function (e) {\n        var onMouseUp = _this.props.onMouseUp;\n\n        if (isFunction(onMouseUp)) {\n          var _nextState4 = _this.getMouseInfo(e);\n\n          onMouseUp(_nextState4, e);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleTouchMove\", function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.throttleTriggeredAfterMouseMove(e.changedTouches[0]);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleTouchStart\", function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseDown(e.changedTouches[0]);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"handleTouchEnd\", function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseUp(e.changedTouches[0]);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"triggerSyncEvent\", function (data) {\n        if (_this.props.syncId !== undefined) {\n          eventCenter.emit(SYNC_EVENT, _this.props.syncId, data, _this.eventEmitterSymbol);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"applySyncEvent\", function (data) {\n        var _this$props = _this.props,\n            layout = _this$props.layout,\n            syncMethod = _this$props.syncMethod;\n        var updateId = _this.state.updateId;\n        var dataStartIndex = data.dataStartIndex,\n            dataEndIndex = data.dataEndIndex;\n\n        if (data.dataStartIndex !== undefined || data.dataEndIndex !== undefined) {\n          _this.setState(_objectSpread({\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }, updateStateOfAxisMapsOffsetAndStackGroups({\n            props: _this.props,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex,\n            updateId: updateId\n          }, _this.state)));\n        } else if (data.activeTooltipIndex !== undefined) {\n          var chartX = data.chartX,\n              chartY = data.chartY;\n          var activeTooltipIndex = data.activeTooltipIndex;\n          var _this$state2 = _this.state,\n              offset = _this$state2.offset,\n              tooltipTicks = _this$state2.tooltipTicks;\n\n          if (!offset) {\n            return;\n          }\n\n          if (typeof syncMethod === 'function') {\n            // Call a callback function. If there is an application specific algorithm\n            activeTooltipIndex = syncMethod(tooltipTicks, data);\n          } else if (syncMethod === 'value') {\n            // Set activeTooltipIndex to the index with the same value as data.activeLabel\n            // For loop instead of findIndex because the latter is very slow in some browsers\n            activeTooltipIndex = -1; // in case we cannot find the element\n\n            for (var i = 0; i < tooltipTicks.length; i++) {\n              if (tooltipTicks[i].value === data.activeLabel) {\n                activeTooltipIndex = i;\n                break;\n              }\n            }\n          }\n\n          var viewBox = _objectSpread(_objectSpread({}, offset), {}, {\n            x: offset.left,\n            y: offset.top\n          }); // When a categorical chart is combined with another chart, the value of chartX\n          // and chartY may beyond the boundaries.\n\n\n          var validateChartX = Math.min(chartX, viewBox.x + viewBox.width);\n          var validateChartY = Math.min(chartY, viewBox.y + viewBox.height);\n          var activeLabel = tooltipTicks[activeTooltipIndex] && tooltipTicks[activeTooltipIndex].value;\n          var activePayload = getTooltipContent(_this.state, _this.props.data, activeTooltipIndex);\n          var activeCoordinate = tooltipTicks[activeTooltipIndex] ? {\n            x: layout === 'horizontal' ? tooltipTicks[activeTooltipIndex].coordinate : validateChartX,\n            y: layout === 'horizontal' ? validateChartY : tooltipTicks[activeTooltipIndex].coordinate\n          } : originCoordinate;\n\n          _this.setState(_objectSpread(_objectSpread({}, data), {}, {\n            activeLabel: activeLabel,\n            activeCoordinate: activeCoordinate,\n            activePayload: activePayload,\n            activeTooltipIndex: activeTooltipIndex\n          }));\n        } else {\n          _this.setState(data);\n        }\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"verticalCoordinatesGenerator\", function (_ref10, syncWithTicks) {\n        var xAxis = _ref10.xAxis,\n            width = _ref10.width,\n            height = _ref10.height,\n            offset = _ref10.offset;\n        return getCoordinatesOfGrid(getTicks(_objectSpread(_objectSpread(_objectSpread({}, CartesianAxis.defaultProps), xAxis), {}, {\n          ticks: getTicksOfAxis(xAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.left, offset.left + offset.width, syncWithTicks);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"horizontalCoordinatesGenerator\", function (_ref11, syncWithTicks) {\n        var yAxis = _ref11.yAxis,\n            width = _ref11.width,\n            height = _ref11.height,\n            offset = _ref11.offset;\n        return getCoordinatesOfGrid(getTicks(_objectSpread(_objectSpread(_objectSpread({}, CartesianAxis.defaultProps), yAxis), {}, {\n          ticks: getTicksOfAxis(yAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.top, offset.top + offset.height, syncWithTicks);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"axesTicksGenerator\", function (axis) {\n        return getTicksOfAxis(axis, true);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderCursor\", function (element) {\n        var _element$props$active;\n\n        var _this$state3 = _this.state,\n            isTooltipActive = _this$state3.isTooltipActive,\n            activeCoordinate = _this$state3.activeCoordinate,\n            activePayload = _this$state3.activePayload,\n            offset = _this$state3.offset,\n            activeTooltipIndex = _this$state3.activeTooltipIndex,\n            tooltipAxisBandSize = _this$state3.tooltipAxisBandSize;\n\n        var tooltipEventType = _this.getTooltipEventType(); // The cursor is a part of the Tooltip, and it should be shown (by default) when the Tooltip is active.\n\n\n        var isActive = (_element$props$active = element.props.active) !== null && _element$props$active !== void 0 ? _element$props$active : isTooltipActive;\n\n        if (!element || !element.props.cursor || !isActive || !activeCoordinate || chartName !== 'ScatterChart' && tooltipEventType !== 'axis') {\n          return null;\n        }\n\n        var layout = _this.props.layout;\n        var restProps;\n        var cursorComp = Curve;\n\n        if (chartName === 'ScatterChart') {\n          restProps = activeCoordinate;\n          cursorComp = Cross;\n        } else if (chartName === 'BarChart') {\n          restProps = getCursorRectangle(layout, activeCoordinate, offset, tooltipAxisBandSize);\n          cursorComp = Rectangle;\n        } else if (layout === 'radial') {\n          var _getRadialCursorPoint = getRadialCursorPoints(activeCoordinate),\n              cx = _getRadialCursorPoint.cx,\n              cy = _getRadialCursorPoint.cy,\n              radius = _getRadialCursorPoint.radius,\n              startAngle = _getRadialCursorPoint.startAngle,\n              endAngle = _getRadialCursorPoint.endAngle;\n\n          restProps = {\n            cx: cx,\n            cy: cy,\n            startAngle: startAngle,\n            endAngle: endAngle,\n            innerRadius: radius,\n            outerRadius: radius\n          };\n          cursorComp = Sector;\n        } else {\n          restProps = {\n            points: getCursorPoints(layout, activeCoordinate, offset)\n          };\n          cursorComp = Curve;\n        }\n\n        var key = element.key || '_recharts-cursor';\n\n        var cursorProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread({\n          stroke: '#ccc',\n          pointerEvents: 'none'\n        }, offset), restProps), filterProps(element.props.cursor)), {}, {\n          payload: activePayload,\n          payloadIndex: activeTooltipIndex,\n          key: key,\n          className: 'recharts-tooltip-cursor'\n        });\n\n        return /*#__PURE__*/isValidElement(element.props.cursor) ? /*#__PURE__*/cloneElement(element.props.cursor, cursorProps) : /*#__PURE__*/createElement(cursorComp, cursorProps);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderPolarAxis\", function (element, displayName, index) {\n        var axisType = get(element, 'type.axisType');\n        var axisMap = get(_this.state, \"\".concat(axisType, \"Map\"));\n        var axisOption = axisMap && axisMap[element.props[\"\".concat(axisType, \"Id\")]];\n        return /*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread({}, axisOption), {}, {\n          className: axisType,\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          ticks: getTicksOfAxis(axisOption, true)\n        }));\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderXAxis\", function (element, displayName, index) {\n        var xAxisMap = _this.state.xAxisMap;\n        var axisObj = xAxisMap[element.props.xAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderYAxis\", function (element, displayName, index) {\n        var yAxisMap = _this.state.yAxisMap;\n        var axisObj = yAxisMap[element.props.yAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      });\n      /**\n       * Draw grid\n       * @param  {ReactElement} element the grid item\n       * @return {ReactElement} The instance of grid\n       */\n\n\n      _defineProperty(_assertThisInitialized(_this), \"renderGrid\", function (element) {\n        var _this$state4 = _this.state,\n            xAxisMap = _this$state4.xAxisMap,\n            yAxisMap = _this$state4.yAxisMap,\n            offset = _this$state4.offset;\n        var _this$props2 = _this.props,\n            width = _this$props2.width,\n            height = _this$props2.height;\n        var xAxis = getAnyElementOfObject(xAxisMap);\n        var yAxisWithFiniteDomain = find(yAxisMap, function (axis) {\n          return every(axis.domain, Number.isFinite);\n        });\n        var yAxis = yAxisWithFiniteDomain || getAnyElementOfObject(yAxisMap);\n        var props = element.props || {};\n        return /*#__PURE__*/cloneElement(element, {\n          key: element.key || 'grid',\n          x: isNumber(props.x) ? props.x : offset.left,\n          y: isNumber(props.y) ? props.y : offset.top,\n          width: isNumber(props.width) ? props.width : offset.width,\n          height: isNumber(props.height) ? props.height : offset.height,\n          xAxis: xAxis,\n          yAxis: yAxis,\n          offset: offset,\n          chartWidth: width,\n          chartHeight: height,\n          verticalCoordinatesGenerator: props.verticalCoordinatesGenerator || _this.verticalCoordinatesGenerator,\n          horizontalCoordinatesGenerator: props.horizontalCoordinatesGenerator || _this.horizontalCoordinatesGenerator\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderPolarGrid\", function (element) {\n        var _element$props = element.props,\n            radialLines = _element$props.radialLines,\n            polarAngles = _element$props.polarAngles,\n            polarRadius = _element$props.polarRadius;\n        var _this$state5 = _this.state,\n            radiusAxisMap = _this$state5.radiusAxisMap,\n            angleAxisMap = _this$state5.angleAxisMap;\n        var radiusAxis = getAnyElementOfObject(radiusAxisMap);\n        var angleAxis = getAnyElementOfObject(angleAxisMap);\n        var cx = angleAxis.cx,\n            cy = angleAxis.cy,\n            innerRadius = angleAxis.innerRadius,\n            outerRadius = angleAxis.outerRadius;\n        return /*#__PURE__*/cloneElement(element, {\n          polarAngles: Array.isArray(polarAngles) ? polarAngles : getTicksOfAxis(angleAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          polarRadius: Array.isArray(polarRadius) ? polarRadius : getTicksOfAxis(radiusAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          cx: cx,\n          cy: cy,\n          innerRadius: innerRadius,\n          outerRadius: outerRadius,\n          key: element.key || 'polar-grid',\n          radialLines: radialLines\n        });\n      });\n      /**\n       * Draw legend\n       * @return {ReactElement}            The instance of Legend\n       */\n\n\n      _defineProperty(_assertThisInitialized(_this), \"renderLegend\", function () {\n        var formattedGraphicalItems = _this.state.formattedGraphicalItems;\n        var _this$props3 = _this.props,\n            children = _this$props3.children,\n            width = _this$props3.width,\n            height = _this$props3.height;\n        var margin = _this.props.margin || {};\n        var legendWidth = width - (margin.left || 0) - (margin.right || 0);\n        var props = getLegendProps({\n          children: children,\n          formattedGraphicalItems: formattedGraphicalItems,\n          legendWidth: legendWidth,\n          legendContent: legendContent\n        });\n\n        if (!props) {\n          return null;\n        }\n\n        var item = props.item,\n            otherProps = _objectWithoutProperties(props, _excluded);\n\n        return /*#__PURE__*/cloneElement(item, _objectSpread(_objectSpread({}, otherProps), {}, {\n          chartWidth: width,\n          chartHeight: height,\n          margin: margin,\n          onBBoxUpdate: _this.handleLegendBBoxUpdate\n        }));\n      });\n      /**\n       * Draw Tooltip\n       * @return {ReactElement}  The instance of Tooltip\n       */\n\n\n      _defineProperty(_assertThisInitialized(_this), \"renderTooltip\", function () {\n        var _tooltipItem$props$ac;\n\n        var children = _this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip);\n\n        if (!tooltipItem) {\n          return null;\n        }\n\n        var _this$state6 = _this.state,\n            isTooltipActive = _this$state6.isTooltipActive,\n            activeCoordinate = _this$state6.activeCoordinate,\n            activePayload = _this$state6.activePayload,\n            activeLabel = _this$state6.activeLabel,\n            offset = _this$state6.offset; // The user can set isActive on the Tooltip,\n        // and we respect the user to enable customisation.\n        // The Tooltip is active if the user has set isActive, or if the tooltip is active due to a mouse event.\n\n        var isActive = (_tooltipItem$props$ac = tooltipItem.props.active) !== null && _tooltipItem$props$ac !== void 0 ? _tooltipItem$props$ac : isTooltipActive;\n        return /*#__PURE__*/cloneElement(tooltipItem, {\n          viewBox: _objectSpread(_objectSpread({}, offset), {}, {\n            x: offset.left,\n            y: offset.top\n          }),\n          active: isActive,\n          label: activeLabel,\n          payload: isActive ? activePayload : [],\n          coordinate: activeCoordinate\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderBrush\", function (element) {\n        var _this$props4 = _this.props,\n            margin = _this$props4.margin,\n            data = _this$props4.data;\n        var _this$state7 = _this.state,\n            offset = _this$state7.offset,\n            dataStartIndex = _this$state7.dataStartIndex,\n            dataEndIndex = _this$state7.dataEndIndex,\n            updateId = _this$state7.updateId; // TODO: update brush when children update\n\n        return /*#__PURE__*/cloneElement(element, {\n          key: element.key || '_recharts-brush',\n          onChange: combineEventHandlers(_this.handleBrushChange, element.props.onChange),\n          data: data,\n          x: isNumber(element.props.x) ? element.props.x : offset.left,\n          y: isNumber(element.props.y) ? element.props.y : offset.top + offset.height + offset.brushBottom - (margin.bottom || 0),\n          width: isNumber(element.props.width) ? element.props.width : offset.width,\n          startIndex: dataStartIndex,\n          endIndex: dataEndIndex,\n          updateId: \"brush-\".concat(updateId)\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderReferenceElement\", function (element, displayName, index) {\n        if (!element) {\n          return null;\n        }\n\n        var _assertThisInitialize = _assertThisInitialized(_this),\n            clipPathId = _assertThisInitialize.clipPathId;\n\n        var _this$state8 = _this.state,\n            xAxisMap = _this$state8.xAxisMap,\n            yAxisMap = _this$state8.yAxisMap,\n            offset = _this$state8.offset;\n        var _element$props2 = element.props,\n            xAxisId = _element$props2.xAxisId,\n            yAxisId = _element$props2.yAxisId;\n        return /*#__PURE__*/cloneElement(element, {\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          xAxis: xAxisMap[xAxisId],\n          yAxis: yAxisMap[yAxisId],\n          viewBox: {\n            x: offset.left,\n            y: offset.top,\n            width: offset.width,\n            height: offset.height\n          },\n          clipPathId: clipPathId\n        });\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderActivePoints\", function (_ref12) {\n        var item = _ref12.item,\n            activePoint = _ref12.activePoint,\n            basePoint = _ref12.basePoint,\n            childIndex = _ref12.childIndex,\n            isRange = _ref12.isRange;\n        var result = [];\n        var key = item.props.key;\n        var _item$item$props = item.item.props,\n            activeDot = _item$item$props.activeDot,\n            dataKey = _item$item$props.dataKey;\n\n        var dotProps = _objectSpread(_objectSpread({\n          index: childIndex,\n          dataKey: dataKey,\n          cx: activePoint.x,\n          cy: activePoint.y,\n          r: 4,\n          fill: getMainColorOfGraphicItem(item.item),\n          strokeWidth: 2,\n          stroke: '#fff',\n          payload: activePoint.payload,\n          value: activePoint.value,\n          key: \"\".concat(key, \"-activePoint-\").concat(childIndex)\n        }, filterProps(activeDot)), adaptEventHandlers(activeDot));\n\n        result.push(CategoricalChartWrapper.renderActiveDot(activeDot, dotProps));\n\n        if (basePoint) {\n          result.push(CategoricalChartWrapper.renderActiveDot(activeDot, _objectSpread(_objectSpread({}, dotProps), {}, {\n            cx: basePoint.x,\n            cy: basePoint.y,\n            key: \"\".concat(key, \"-basePoint-\").concat(childIndex)\n          })));\n        } else if (isRange) {\n          result.push(null);\n        }\n\n        return result;\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderGraphicChild\", function (element, displayName, index) {\n        var item = _this.filterFormatItem(element, displayName, index);\n\n        if (!item) {\n          return null;\n        }\n\n        var tooltipEventType = _this.getTooltipEventType();\n\n        var _this$state9 = _this.state,\n            isTooltipActive = _this$state9.isTooltipActive,\n            tooltipAxis = _this$state9.tooltipAxis,\n            activeTooltipIndex = _this$state9.activeTooltipIndex,\n            activeLabel = _this$state9.activeLabel;\n        var children = _this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip);\n        var _item$props2 = item.props,\n            points = _item$props2.points,\n            isRange = _item$props2.isRange,\n            baseLine = _item$props2.baseLine;\n        var _item$item$props2 = item.item.props,\n            activeDot = _item$item$props2.activeDot,\n            hide = _item$item$props2.hide,\n            activeBar = _item$item$props2.activeBar,\n            activeShape = _item$item$props2.activeShape;\n        var hasActive = Boolean(!hide && isTooltipActive && tooltipItem && (activeDot || activeBar || activeShape));\n        var itemEvents = {};\n\n        if (tooltipEventType !== 'axis' && tooltipItem && tooltipItem.props.trigger === 'click') {\n          itemEvents = {\n            onClick: combineEventHandlers(_this.handleItemMouseEnter, element.props.onClick)\n          };\n        } else if (tooltipEventType !== 'axis') {\n          itemEvents = {\n            onMouseLeave: combineEventHandlers(_this.handleItemMouseLeave, element.props.onMouseLeave),\n            onMouseEnter: combineEventHandlers(_this.handleItemMouseEnter, element.props.onMouseEnter)\n          };\n        }\n\n        var graphicalItem = /*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread({}, item.props), itemEvents));\n\n        function findWithPayload(entry) {\n          // TODO needs to verify dataKey is Function\n          return typeof tooltipAxis.dataKey === 'function' ? tooltipAxis.dataKey(entry.payload) : null;\n        }\n\n        if (hasActive) {\n          if (activeTooltipIndex >= 0) {\n            var activePoint, basePoint;\n\n            if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n              // number transform to string\n              var specifiedKey = typeof tooltipAxis.dataKey === 'function' ? findWithPayload : 'payload.'.concat(tooltipAxis.dataKey.toString());\n              activePoint = findEntryInArray(points, specifiedKey, activeLabel);\n              basePoint = isRange && baseLine && findEntryInArray(baseLine, specifiedKey, activeLabel);\n            } else {\n              activePoint = points === null || points === void 0 ? void 0 : points[activeTooltipIndex];\n              basePoint = isRange && baseLine && baseLine[activeTooltipIndex];\n            }\n\n            if (activeShape || activeBar) {\n              var activeIndex = element.props.activeIndex !== undefined ? element.props.activeIndex : activeTooltipIndex;\n              return [/*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread(_objectSpread({}, item.props), itemEvents), {}, {\n                activeIndex: activeIndex\n              })), null, null];\n            }\n\n            if (!isNil(activePoint)) {\n              return [graphicalItem].concat(_toConsumableArray(_this.renderActivePoints({\n                item: item,\n                activePoint: activePoint,\n                basePoint: basePoint,\n                childIndex: activeTooltipIndex,\n                isRange: isRange\n              })));\n            }\n          } else {\n            var _this$getItemByXY;\n            /**\n             * We hit this block if consumer uses a Tooltip without XAxis and/or YAxis.\n             * In which case, this.state.activeTooltipIndex never gets set\n             * because the mouse events that trigger that value getting set never get trigged without the axis components.\n             *\n             * An example usage case is a FunnelChart\n             */\n\n\n            var _ref13 = (_this$getItemByXY = _this.getItemByXY(_this.state.activeCoordinate)) !== null && _this$getItemByXY !== void 0 ? _this$getItemByXY : {\n              graphicalItem: graphicalItem\n            },\n                _ref13$graphicalItem = _ref13.graphicalItem,\n                _ref13$graphicalItem$ = _ref13$graphicalItem.item,\n                xyItem = _ref13$graphicalItem$ === void 0 ? element : _ref13$graphicalItem$,\n                childIndex = _ref13$graphicalItem.childIndex;\n\n            var elementProps = _objectSpread(_objectSpread(_objectSpread({}, item.props), itemEvents), {}, {\n              activeIndex: childIndex\n            });\n\n            return [/*#__PURE__*/cloneElement(xyItem, elementProps), null, null];\n          }\n        }\n\n        if (isRange) {\n          return [graphicalItem, null, null];\n        }\n\n        return [graphicalItem, null];\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderCustomized\", function (element, displayName, index) {\n        return /*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread({\n          key: \"recharts-customized-\".concat(index)\n        }, _this.props), _this.state));\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"renderMap\", {\n        CartesianGrid: {\n          handler: _this.renderGrid,\n          once: true\n        },\n        ReferenceArea: {\n          handler: _this.renderReferenceElement\n        },\n        ReferenceLine: {\n          handler: _this.renderReferenceElement\n        },\n        ReferenceDot: {\n          handler: _this.renderReferenceElement\n        },\n        XAxis: {\n          handler: _this.renderXAxis\n        },\n        YAxis: {\n          handler: _this.renderYAxis\n        },\n        Brush: {\n          handler: _this.renderBrush,\n          once: true\n        },\n        Bar: {\n          handler: _this.renderGraphicChild\n        },\n        Line: {\n          handler: _this.renderGraphicChild\n        },\n        Area: {\n          handler: _this.renderGraphicChild\n        },\n        Radar: {\n          handler: _this.renderGraphicChild\n        },\n        RadialBar: {\n          handler: _this.renderGraphicChild\n        },\n        Scatter: {\n          handler: _this.renderGraphicChild\n        },\n        Pie: {\n          handler: _this.renderGraphicChild\n        },\n        Funnel: {\n          handler: _this.renderGraphicChild\n        },\n        Tooltip: {\n          handler: _this.renderCursor,\n          once: true\n        },\n        PolarGrid: {\n          handler: _this.renderPolarGrid,\n          once: true\n        },\n        PolarAngleAxis: {\n          handler: _this.renderPolarAxis\n        },\n        PolarRadiusAxis: {\n          handler: _this.renderPolarAxis\n        },\n        Customized: {\n          handler: _this.renderCustomized\n        }\n      });\n\n      _this.clipPathId = \"\".concat((_props$id = _props.id) !== null && _props$id !== void 0 ? _props$id : uniqueId('recharts'), \"-clip\"); // trigger 60fps\n\n      _this.throttleTriggeredAfterMouseMove = throttle(_this.triggeredAfterMouseMove, (_props$throttleDelay = _props.throttleDelay) !== null && _props$throttleDelay !== void 0 ? _props$throttleDelay : 1000 / 60);\n      _this.state = {};\n      return _this;\n    }\n\n    _createClass(CategoricalChartWrapper, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this$props$margin$le, _this$props$margin$to;\n\n        this.addListener();\n        this.accessibilityManager.setDetails({\n          container: this.container,\n          offset: {\n            left: (_this$props$margin$le = this.props.margin.left) !== null && _this$props$margin$le !== void 0 ? _this$props$margin$le : 0,\n            top: (_this$props$margin$to = this.props.margin.top) !== null && _this$props$margin$to !== void 0 ? _this$props$margin$to : 0\n          },\n          coordinateList: this.state.tooltipTicks,\n          mouseHandlerCallback: this.triggeredAfterMouseMove,\n          layout: this.props.layout\n        });\n      }\n    }, {\n      key: \"getSnapshotBeforeUpdate\",\n      value: function getSnapshotBeforeUpdate(prevProps, prevState) {\n        if (!this.props.accessibilityLayer) {\n          return null;\n        }\n\n        if (this.state.tooltipTicks !== prevState.tooltipTicks) {\n          this.accessibilityManager.setDetails({\n            coordinateList: this.state.tooltipTicks\n          });\n        }\n\n        if (this.props.layout !== prevProps.layout) {\n          this.accessibilityManager.setDetails({\n            layout: this.props.layout\n          });\n        }\n\n        if (this.props.margin !== prevProps.margin) {\n          var _this$props$margin$le2, _this$props$margin$to2;\n\n          this.accessibilityManager.setDetails({\n            offset: {\n              left: (_this$props$margin$le2 = this.props.margin.left) !== null && _this$props$margin$le2 !== void 0 ? _this$props$margin$le2 : 0,\n              top: (_this$props$margin$to2 = this.props.margin.top) !== null && _this$props$margin$to2 !== void 0 ? _this$props$margin$to2 : 0\n            }\n          });\n        } // Something has to be returned for getSnapshotBeforeUpdate\n\n\n        return null;\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: // eslint-disable-next-line @typescript-eslint/no-empty-function\n      function componentDidUpdate() {}\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.removeListener();\n        this.throttleTriggeredAfterMouseMove.cancel();\n      }\n    }, {\n      key: \"getTooltipEventType\",\n      value: function getTooltipEventType() {\n        var tooltipItem = findChildByType(this.props.children, Tooltip);\n\n        if (tooltipItem && typeof tooltipItem.props.shared === 'boolean') {\n          var eventType = tooltipItem.props.shared ? 'axis' : 'item';\n          return validateTooltipEventTypes.indexOf(eventType) >= 0 ? eventType : defaultTooltipEventType;\n        }\n\n        return defaultTooltipEventType;\n      }\n      /**\n       * Get the information of mouse in chart, return null when the mouse is not in the chart\n       * @param  {MousePointer} event    The event object\n       * @return {Object}          Mouse data\n       */\n\n    }, {\n      key: \"getMouseInfo\",\n      value: function getMouseInfo(event) {\n        if (!this.container) {\n          return null;\n        }\n\n        var element = this.container;\n        var boundingRect = element.getBoundingClientRect();\n        var containerOffset = getOffset(boundingRect);\n        var e = {\n          chartX: Math.round(event.pageX - containerOffset.left),\n          chartY: Math.round(event.pageY - containerOffset.top)\n        };\n        var scale = boundingRect.width / element.offsetWidth || 1;\n        var rangeObj = this.inRange(e.chartX, e.chartY, scale);\n\n        if (!rangeObj) {\n          return null;\n        }\n\n        var _this$state10 = this.state,\n            xAxisMap = _this$state10.xAxisMap,\n            yAxisMap = _this$state10.yAxisMap;\n        var tooltipEventType = this.getTooltipEventType();\n\n        if (tooltipEventType !== 'axis' && xAxisMap && yAxisMap) {\n          var xScale = getAnyElementOfObject(xAxisMap).scale;\n          var yScale = getAnyElementOfObject(yAxisMap).scale;\n          var xValue = xScale && xScale.invert ? xScale.invert(e.chartX) : null;\n          var yValue = yScale && yScale.invert ? yScale.invert(e.chartY) : null;\n          return _objectSpread(_objectSpread({}, e), {}, {\n            xValue: xValue,\n            yValue: yValue\n          });\n        }\n\n        var toolTipData = getTooltipData(this.state, this.props.data, this.props.layout, rangeObj);\n\n        if (toolTipData) {\n          return _objectSpread(_objectSpread({}, e), toolTipData);\n        }\n\n        return null;\n      }\n    }, {\n      key: \"inRange\",\n      value: function inRange(x, y) {\n        var scale = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n        var layout = this.props.layout;\n        var scaledX = x / scale,\n            scaledY = y / scale;\n\n        if (layout === 'horizontal' || layout === 'vertical') {\n          var offset = this.state.offset;\n          var isInRange = scaledX >= offset.left && scaledX <= offset.left + offset.width && scaledY >= offset.top && scaledY <= offset.top + offset.height;\n          return isInRange ? {\n            x: scaledX,\n            y: scaledY\n          } : null;\n        }\n\n        var _this$state11 = this.state,\n            angleAxisMap = _this$state11.angleAxisMap,\n            radiusAxisMap = _this$state11.radiusAxisMap;\n\n        if (angleAxisMap && radiusAxisMap) {\n          var angleAxis = getAnyElementOfObject(angleAxisMap);\n          return inRangeOfSector({\n            x: scaledX,\n            y: scaledY\n          }, angleAxis);\n        }\n\n        return null;\n      }\n    }, {\n      key: \"parseEventsOfWrapper\",\n      value: function parseEventsOfWrapper() {\n        var children = this.props.children;\n        var tooltipEventType = this.getTooltipEventType();\n        var tooltipItem = findChildByType(children, Tooltip);\n        var tooltipEvents = {};\n\n        if (tooltipItem && tooltipEventType === 'axis') {\n          if (tooltipItem.props.trigger === 'click') {\n            tooltipEvents = {\n              onClick: this.handleClick\n            };\n          } else {\n            tooltipEvents = {\n              onMouseEnter: this.handleMouseEnter,\n              onMouseMove: this.handleMouseMove,\n              onMouseLeave: this.handleMouseLeave,\n              onTouchMove: this.handleTouchMove,\n              onTouchStart: this.handleTouchStart,\n              onTouchEnd: this.handleTouchEnd\n            };\n          }\n        } // @ts-expect-error adaptEventHandlers expects DOM Event but generateCategoricalChart works with React UIEvents\n\n\n        var outerEvents = adaptEventHandlers(this.props, this.handleOuterEvent);\n        return _objectSpread(_objectSpread({}, outerEvents), tooltipEvents);\n      }\n    }, {\n      key: \"addListener\",\n      value: function addListener() {\n        eventCenter.on(SYNC_EVENT, this.handleReceiveSyncEvent);\n      }\n    }, {\n      key: \"removeListener\",\n      value: function removeListener() {\n        eventCenter.removeListener(SYNC_EVENT, this.handleReceiveSyncEvent);\n      }\n    }, {\n      key: \"filterFormatItem\",\n      value: function filterFormatItem(item, displayName, childIndex) {\n        var formattedGraphicalItems = this.state.formattedGraphicalItems;\n\n        for (var i = 0, len = formattedGraphicalItems.length; i < len; i++) {\n          var entry = formattedGraphicalItems[i];\n\n          if (entry.item === item || entry.props.key === item.key || displayName === getDisplayName(entry.item.type) && childIndex === entry.childIndex) {\n            return entry;\n          }\n        }\n\n        return null;\n      }\n    }, {\n      key: \"renderAxis\",\n      value:\n      /**\n       * Draw axis\n       * @param {Object} axisOptions The options of axis\n       * @param {Object} element      The axis element\n       * @param {String} displayName  The display name of axis\n       * @param {Number} index        The index of element\n       * @return {ReactElement}       The instance of x-axes\n       */\n      function renderAxis(axisOptions, element, displayName, index) {\n        var _this$props5 = this.props,\n            width = _this$props5.width,\n            height = _this$props5.height;\n        return /*#__PURE__*/React.createElement(CartesianAxis, _extends({}, axisOptions, {\n          className: clsx(\"recharts-\".concat(axisOptions.axisType, \" \").concat(axisOptions.axisType), axisOptions.className),\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          },\n          ticksGenerator: this.axesTicksGenerator\n        }));\n      }\n    }, {\n      key: \"renderClipPath\",\n      value: function renderClipPath() {\n        var clipPathId = this.clipPathId;\n        var _this$state$offset = this.state.offset,\n            left = _this$state$offset.left,\n            top = _this$state$offset.top,\n            height = _this$state$offset.height,\n            width = _this$state$offset.width;\n        return /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n          id: clipPathId\n        }, /*#__PURE__*/React.createElement(\"rect\", {\n          x: left,\n          y: top,\n          height: height,\n          width: width\n        })));\n      }\n    }, {\n      key: \"getXScales\",\n      value: function getXScales() {\n        var xAxisMap = this.state.xAxisMap;\n        return xAxisMap ? Object.entries(xAxisMap).reduce(function (res, _ref14) {\n          var _ref15 = _slicedToArray(_ref14, 2),\n              axisId = _ref15[0],\n              axisProps = _ref15[1];\n\n          return _objectSpread(_objectSpread({}, res), {}, _defineProperty({}, axisId, axisProps.scale));\n        }, {}) : null;\n      }\n    }, {\n      key: \"getYScales\",\n      value: function getYScales() {\n        var yAxisMap = this.state.yAxisMap;\n        return yAxisMap ? Object.entries(yAxisMap).reduce(function (res, _ref16) {\n          var _ref17 = _slicedToArray(_ref16, 2),\n              axisId = _ref17[0],\n              axisProps = _ref17[1];\n\n          return _objectSpread(_objectSpread({}, res), {}, _defineProperty({}, axisId, axisProps.scale));\n        }, {}) : null;\n      }\n    }, {\n      key: \"getXScaleByAxisId\",\n      value: function getXScaleByAxisId(axisId) {\n        var _this$state$xAxisMap;\n\n        return (_this$state$xAxisMap = this.state.xAxisMap) === null || _this$state$xAxisMap === void 0 || (_this$state$xAxisMap = _this$state$xAxisMap[axisId]) === null || _this$state$xAxisMap === void 0 ? void 0 : _this$state$xAxisMap.scale;\n      }\n    }, {\n      key: \"getYScaleByAxisId\",\n      value: function getYScaleByAxisId(axisId) {\n        var _this$state$yAxisMap;\n\n        return (_this$state$yAxisMap = this.state.yAxisMap) === null || _this$state$yAxisMap === void 0 || (_this$state$yAxisMap = _this$state$yAxisMap[axisId]) === null || _this$state$yAxisMap === void 0 ? void 0 : _this$state$yAxisMap.scale;\n      }\n    }, {\n      key: \"getItemByXY\",\n      value: function getItemByXY(chartXY) {\n        var _this$state12 = this.state,\n            formattedGraphicalItems = _this$state12.formattedGraphicalItems,\n            activeItem = _this$state12.activeItem;\n\n        if (formattedGraphicalItems && formattedGraphicalItems.length) {\n          for (var i = 0, len = formattedGraphicalItems.length; i < len; i++) {\n            var graphicalItem = formattedGraphicalItems[i];\n            var props = graphicalItem.props,\n                item = graphicalItem.item;\n            var itemDisplayName = getDisplayName(item.type);\n\n            if (itemDisplayName === 'Bar') {\n              var activeBarItem = (props.data || []).find(function (entry) {\n                return isInRectangle(chartXY, entry);\n              });\n\n              if (activeBarItem) {\n                return {\n                  graphicalItem: graphicalItem,\n                  payload: activeBarItem\n                };\n              }\n            } else if (itemDisplayName === 'RadialBar') {\n              var _activeBarItem = (props.data || []).find(function (entry) {\n                return inRangeOfSector(chartXY, entry);\n              });\n\n              if (_activeBarItem) {\n                return {\n                  graphicalItem: graphicalItem,\n                  payload: _activeBarItem\n                };\n              }\n            } else if (isFunnel(graphicalItem, activeItem) || isPie(graphicalItem, activeItem) || isScatter(graphicalItem, activeItem)) {\n              var activeIndex = getActiveShapeIndexForTooltip({\n                graphicalItem: graphicalItem,\n                activeTooltipItem: activeItem,\n                itemData: item.props.data\n              });\n              var childIndex = item.props.activeIndex === undefined ? activeIndex : item.props.activeIndex;\n              return {\n                graphicalItem: _objectSpread(_objectSpread({}, graphicalItem), {}, {\n                  childIndex: childIndex\n                }),\n                payload: isScatter(graphicalItem, activeItem) ? item.props.data[activeIndex] : graphicalItem.props.data[activeIndex]\n              };\n            }\n          }\n        }\n\n        return null;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        if (!validateWidthHeight(this)) {\n          return null;\n        }\n\n        var _this$props6 = this.props,\n            children = _this$props6.children,\n            className = _this$props6.className,\n            width = _this$props6.width,\n            height = _this$props6.height,\n            style = _this$props6.style,\n            compact = _this$props6.compact,\n            title = _this$props6.title,\n            desc = _this$props6.desc,\n            others = _objectWithoutProperties(_this$props6, _excluded2);\n\n        var attrs = filterProps(others); // The \"compact\" mode is mainly used as the panorama within Brush\n\n        if (compact) {\n          return /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n            width: width,\n            height: height,\n            title: title,\n            desc: desc\n          }), this.renderClipPath(), renderByOrder(children, this.renderMap));\n        }\n\n        if (this.props.accessibilityLayer) {\n          var _this$props$tabIndex, _this$props$role; // Set tabIndex to 0 by default (can be overwritten)\n\n\n          attrs.tabIndex = (_this$props$tabIndex = this.props.tabIndex) !== null && _this$props$tabIndex !== void 0 ? _this$props$tabIndex : 0; // Set role to img by default (can be overwritten)\n\n          attrs.role = (_this$props$role = this.props.role) !== null && _this$props$role !== void 0 ? _this$props$role : 'img';\n\n          attrs.onKeyDown = function (e) {\n            _this2.accessibilityManager.keyboardEvent(e); // 'onKeyDown' is not currently a supported prop that can be passed through\n            // if it's added, this should be added: this.props.onKeyDown(e);\n\n          };\n\n          attrs.onFocus = function () {\n            _this2.accessibilityManager.focus(); // 'onFocus' is not currently a supported prop that can be passed through\n            // if it's added, the focus event should be forwarded to the prop\n\n          };\n        }\n\n        var events = this.parseEventsOfWrapper();\n        return /*#__PURE__*/React.createElement(\"div\", _extends({\n          className: clsx('recharts-wrapper', className),\n          style: _objectSpread({\n            position: 'relative',\n            cursor: 'default',\n            width: width,\n            height: height\n          }, style)\n        }, events, {\n          ref: function ref(node) {\n            _this2.container = node;\n          },\n          role: \"region\"\n        }), /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n          width: width,\n          height: height,\n          title: title,\n          desc: desc,\n          style: FULL_WIDTH_AND_HEIGHT\n        }), this.renderClipPath(), renderByOrder(children, this.renderMap)), this.renderLegend(), this.renderTooltip());\n      }\n    }]);\n\n    return CategoricalChartWrapper;\n  }(Component), _defineProperty(_class, \"displayName\", chartName), _defineProperty(_class, \"defaultProps\", _objectSpread({\n    layout: 'horizontal',\n    stackOffset: 'none',\n    barCategoryGap: '10%',\n    barGap: 4,\n    margin: {\n      top: 5,\n      right: 5,\n      bottom: 5,\n      left: 5\n    },\n    reverseStackOrder: false,\n    syncMethod: 'index'\n  }, defaultProps)), _defineProperty(_class, \"getDerivedStateFromProps\", function (nextProps, prevState) {\n    var dataKey = nextProps.dataKey,\n        data = nextProps.data,\n        children = nextProps.children,\n        width = nextProps.width,\n        height = nextProps.height,\n        layout = nextProps.layout,\n        stackOffset = nextProps.stackOffset,\n        margin = nextProps.margin;\n\n    if (prevState.updateId === undefined) {\n      var defaultState = createDefaultState(nextProps);\n      return _objectSpread(_objectSpread(_objectSpread({}, defaultState), {}, {\n        updateId: 0\n      }, updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread(_objectSpread({\n        props: nextProps\n      }, defaultState), {}, {\n        updateId: 0\n      }), prevState)), {}, {\n        prevDataKey: dataKey,\n        prevData: data,\n        prevWidth: width,\n        prevHeight: height,\n        prevLayout: layout,\n        prevStackOffset: stackOffset,\n        prevMargin: margin,\n        prevChildren: children\n      });\n    }\n\n    if (dataKey !== prevState.prevDataKey || data !== prevState.prevData || width !== prevState.prevWidth || height !== prevState.prevHeight || layout !== prevState.prevLayout || stackOffset !== prevState.prevStackOffset || !shallowEqual(margin, prevState.prevMargin)) {\n      var _defaultState = createDefaultState(nextProps); // Fixes https://github.com/recharts/recharts/issues/2143\n\n\n      var keepFromPrevState = {\n        // (chartX, chartY) are (0,0) in default state, but we want to keep the last mouse position to avoid\n        // any flickering\n        chartX: prevState.chartX,\n        chartY: prevState.chartY,\n        // The tooltip should stay active when it was active in the previous render. If this is not\n        // the case, the tooltip disappears and immediately re-appears, causing a flickering effect\n        isTooltipActive: prevState.isTooltipActive\n      };\n\n      var updatesToState = _objectSpread(_objectSpread({}, getTooltipData(prevState, data, layout)), {}, {\n        updateId: prevState.updateId + 1\n      });\n\n      var newState = _objectSpread(_objectSpread(_objectSpread({}, _defaultState), keepFromPrevState), updatesToState);\n\n      return _objectSpread(_objectSpread(_objectSpread({}, newState), updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread({\n        props: nextProps\n      }, newState), prevState)), {}, {\n        prevDataKey: dataKey,\n        prevData: data,\n        prevWidth: width,\n        prevHeight: height,\n        prevLayout: layout,\n        prevStackOffset: stackOffset,\n        prevMargin: margin,\n        prevChildren: children\n      });\n    }\n\n    if (!isChildrenEqual(children, prevState.prevChildren)) {\n      // update configuration in children\n      var hasGlobalData = !isNil(data);\n      var newUpdateId = hasGlobalData ? prevState.updateId : prevState.updateId + 1;\n      return _objectSpread(_objectSpread({\n        updateId: newUpdateId\n      }, updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread(_objectSpread({\n        props: nextProps\n      }, prevState), {}, {\n        updateId: newUpdateId\n      }), prevState)), {}, {\n        prevChildren: children\n      });\n    }\n\n    return null;\n  }), _defineProperty(_class, \"renderActiveDot\", function (option, props) {\n    var dot;\n\n    if ( /*#__PURE__*/isValidElement(option)) {\n      dot = /*#__PURE__*/cloneElement(option, props);\n    } else if (isFunction(option)) {\n      dot = option(props);\n    } else {\n      dot = /*#__PURE__*/React.createElement(Dot, props);\n    }\n\n    return /*#__PURE__*/React.createElement(Layer, {\n      className: \"recharts-active-dot\",\n      key: props.key\n    }, dot);\n  }), _class;\n};","map":{"version":3,"sources":["/Users/prayugsigdel/Coding/Trades/node_modules/recharts/es6/chart/generateCategoricalChart.js"],"names":["_excluded","_excluded2","_typeof","o","Symbol","iterator","constructor","prototype","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","r","l","t","e","n","u","a","f","call","next","Object","done","push","value","length","Array","isArray","_extends","assign","bind","target","arguments","source","key","hasOwnProperty","apply","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","_toPropertyKey","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","getPrototypeOf","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","minLen","_arrayLikeToArray","toString","slice","name","from","test","iter","len","arr2","ownKeys","filter","getOwnPropertyDescriptor","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","obj","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","Number","React","Component","cloneElement","isValidElement","createElement","isNil","isFunction","range","get","sortBy","throttle","find","every","clsx","invariant","getRadialCursorPoints","getTicks","Surface","Layer","Tooltip","Legend","Curve","Cross","Sector","Dot","isInRectangle","Rectangle","filterProps","findAllByType","findChildByType","getDisplayName","getReactEventByType","isChildrenEqual","parseChildIndex","renderByOrder","validateWidthHeight","CartesianAxis","Brush","getOffset","findEntryInArray","getAnyElementOfObject","hasDuplicate","isNumber","uniqueId","appendOffsetOfLegend","calculateActiveTickIndex","combineEventHandlers","getBandSizeOfAxis","getBarPosition","getBarSizeList","getCoordinatesOfGrid","getDomainOfDataByKey","getDomainOfItemsWithSameAxis","getDomainOfStackGroups","getLegendProps","getMainColorOfGraphicItem","getStackedDataOfItem","getStackGroupsByAxisId","getTicksOfAxis","getTooltipItem","isCategoricalAxis","parseDomainOfCategoryAxis","parseErrorBarsOfAxis","parseSpecifiedDomain","detectReferenceElementsDomain","inRangeOfSector","polarToCartesian","shallowEqual","eventCenter","SYNC_EVENT","adaptEventHandlers","AccessibilityManager","isDomainSpecifiedByUser","getActiveShapeIndexForTooltip","isFunnel","isPie","isScatter","getCursorPoints","getCursorRectangle","ORIENT_MAP","xAxis","yAxis","FULL_WIDTH_AND_HEIGHT","width","height","originCoordinate","x","y","calculateTooltipPos","rangeObj","layout","angle","radius","getActiveCoordinate","tooltipTicks","activeIndex","entry","tick","index","coordinate","_angle","_radius","cx","cy","getDisplayedData","data","_ref","graphicalItems","dataStartIndex","dataEndIndex","itemsData","reduce","child","itemData","concat","getDefaultDomainByAxisType","axisType","getTooltipContent","state","chartData","activeLabel","tooltipAxis","displayedData","_child$props$data","hide","payload","dataKey","allowDuplicatedCategory","entries","getTooltipData","rangeData","chartX","chartY","pos","ticks","orderedTooltipTicks","axis","activePayload","activeCoordinate","activeTooltipIndex","getAxisMapByAxes","_ref2","axes","axisIdKey","stackGroups","children","stackOffset","isCategorical","_child$props$domain2","_child$props","type","allowDataOverflow","scale","includeHidden","axisId","item","domain","duplicateDomain","categoricalDomain","defaultDomain","_child$props$domain","childDomain","duplicate","finalDomain","errorBarsDomain","hasStack","axisDomain","isDomainValid","originalDomain","getAxisMapByItems","_ref3","Axis","defaultProps","orientation","getAxisMap","_ref4","_ref4$axisType","AxisComp","axisMap","tooltipTicksGenerator","tooltipAxisBandSize","createDefaultState","defaultShowTooltip","brushItem","startIndex","endIndex","isTooltipActive","hasGraphicalBarItem","some","getAxisNameByLayout","numericAxisName","cateAxisName","calculateOffset","_ref5","prevLegendBBox","_ref5$xAxisMap","xAxisMap","_ref5$yAxisMap","yAxisMap","margin","legendItem","offsetH","id","mirror","left","right","offsetV","top","bottom","offset","brushBottom","offsetWidth","offsetHeight","Math","max","generateCategoricalChart","_ref6","_class","chartName","GraphicalChild","_ref6$defaultTooltipE","defaultTooltipEventType","_ref6$validateTooltip","validateTooltipEventTypes","axisComponents","legendContent","formatAxisMap","getFormatItems","currentState","updateId","barSize","barGap","barCategoryGap","globalMaxBarSize","maxBarSize","_getAxisNameByLayout","hasBar","sizeList","formattedItems","_item$props","childMaxBarSize","numericAxisId","cateAxisId","axisObjInitialValue","axisObj","_item$type$displayNam","_item$type","_objectSpread6","process","env","NODE_ENV","displayName","cateAxis","cateTicks","stackedData","itemIsBar","bandSize","barPosition","_ref7","_getBandSizeOfAxis","barBandSize","map","position","composedFn","getComposedData","_objectSpread7","childIndex","updateStateOfAxisMapsOffsetAndStackGroups","_ref8","prevState","reverseStackOrder","_getAxisNameByLayout2","legendBBox","replace","cateAxisMap","ticksObj","formattedGraphicalItems","_Component","CategoricalChartWrapper","_super","_props","_props$id","_props$throttleDelay","_this","box","_this$state","setState","cId","emitter","syncId","eventEmitterSymbol","syncMethod","applySyncEvent","_ref9","triggerSyncEvent","mouse","getMouseInfo","_nextState","onMouseEnter","nextState","onMouseMove","el","activeItem","tooltipPayload","tooltipPosition","persist","throttleTriggeredAfterMouseMove","onMouseLeave","eventName","event","_mouse","changedTouches","_nextState2","onClick","onMouseDown","_nextState3","onMouseUp","_nextState4","handleMouseDown","handleMouseUp","emit","_this$props","_this$state2","viewBox","validateChartX","min","validateChartY","_ref10","syncWithTicks","_ref11","element","_element$props$active","_this$state3","tooltipEventType","getTooltipEventType","isActive","active","cursor","restProps","cursorComp","_getRadialCursorPoint","startAngle","endAngle","innerRadius","outerRadius","points","cursorProps","stroke","pointerEvents","payloadIndex","className","axisOption","xAxisId","renderAxis","yAxisId","_this$state4","_this$props2","yAxisWithFiniteDomain","isFinite","chartWidth","chartHeight","verticalCoordinatesGenerator","horizontalCoordinatesGenerator","_element$props","radialLines","polarAngles","polarRadius","_this$state5","radiusAxisMap","angleAxisMap","radiusAxis","angleAxis","_this$props3","legendWidth","otherProps","onBBoxUpdate","handleLegendBBoxUpdate","_tooltipItem$props$ac","tooltipItem","_this$state6","label","_this$props4","_this$state7","onChange","handleBrushChange","_assertThisInitialize","clipPathId","_this$state8","_element$props2","_ref12","activePoint","basePoint","isRange","_item$item$props","activeDot","dotProps","fill","strokeWidth","renderActiveDot","filterFormatItem","_this$state9","_item$props2","baseLine","_item$item$props2","activeBar","activeShape","hasActive","itemEvents","trigger","handleItemMouseEnter","handleItemMouseLeave","graphicalItem","findWithPayload","specifiedKey","renderActivePoints","_this$getItemByXY","_ref13","getItemByXY","_ref13$graphicalItem","_ref13$graphicalItem$","xyItem","elementProps","CartesianGrid","handler","renderGrid","once","ReferenceArea","renderReferenceElement","ReferenceLine","ReferenceDot","XAxis","renderXAxis","YAxis","renderYAxis","renderBrush","Bar","renderGraphicChild","Line","Area","Radar","RadialBar","Scatter","Pie","Funnel","renderCursor","PolarGrid","renderPolarGrid","PolarAngleAxis","renderPolarAxis","PolarRadiusAxis","Customized","renderCustomized","triggeredAfterMouseMove","throttleDelay","componentDidMount","_this$props$margin$le","_this$props$margin$to","addListener","accessibilityManager","setDetails","container","coordinateList","mouseHandlerCallback","getSnapshotBeforeUpdate","prevProps","accessibilityLayer","_this$props$margin$le2","_this$props$margin$to2","componentDidUpdate","componentWillUnmount","removeListener","cancel","shared","eventType","boundingRect","getBoundingClientRect","containerOffset","round","pageX","pageY","inRange","_this$state10","xScale","yScale","xValue","invert","yValue","toolTipData","scaledX","scaledY","isInRange","_this$state11","parseEventsOfWrapper","tooltipEvents","handleClick","handleMouseEnter","handleMouseMove","handleMouseLeave","onTouchMove","handleTouchMove","onTouchStart","handleTouchStart","onTouchEnd","handleTouchEnd","outerEvents","handleOuterEvent","on","handleReceiveSyncEvent","axisOptions","_this$props5","ticksGenerator","axesTicksGenerator","renderClipPath","_this$state$offset","getXScales","_ref14","_ref15","axisProps","getYScales","_ref16","_ref17","getXScaleByAxisId","_this$state$xAxisMap","getYScaleByAxisId","_this$state$yAxisMap","chartXY","_this$state12","itemDisplayName","activeBarItem","_activeBarItem","activeTooltipItem","render","_this2","_this$props6","style","compact","title","desc","others","attrs","renderMap","_this$props$tabIndex","_this$props$role","tabIndex","role","onKeyDown","keyboardEvent","onFocus","focus","events","ref","node","renderLegend","renderTooltip","nextProps","defaultState","prevDataKey","prevData","prevWidth","prevHeight","prevLayout","prevStackOffset","prevMargin","prevChildren","_defaultState","keepFromPrevState","updatesToState","newState","hasGlobalData","newUpdateId","option","dot"],"mappings":"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","sourcesContent":["var _excluded = [\"item\"],\n  _excluded2 = [\"children\", \"className\", \"width\", \"height\", \"style\", \"compact\", \"title\", \"desc\"];\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport React, { Component, cloneElement, isValidElement, createElement } from 'react';\nimport isNil from 'lodash/isNil';\nimport isFunction from 'lodash/isFunction';\nimport range from 'lodash/range';\nimport get from 'lodash/get';\nimport sortBy from 'lodash/sortBy';\nimport throttle from 'lodash/throttle';\nimport find from 'lodash/find';\nimport every from 'lodash/every';\nimport clsx from 'clsx';\n// eslint-disable-next-line no-restricted-imports\n\nimport invariant from 'tiny-invariant';\nimport { getRadialCursorPoints } from '../util/cursor/getRadialCursorPoints';\nimport { getTicks } from '../cartesian/getTicks';\nimport { Surface } from '../container/Surface';\nimport { Layer } from '../container/Layer';\nimport { Tooltip } from '../component/Tooltip';\nimport { Legend } from '../component/Legend';\nimport { Curve } from '../shape/Curve';\nimport { Cross } from '../shape/Cross';\nimport { Sector } from '../shape/Sector';\nimport { Dot } from '../shape/Dot';\nimport { isInRectangle, Rectangle } from '../shape/Rectangle';\nimport { filterProps, findAllByType, findChildByType, getDisplayName, getReactEventByType, isChildrenEqual, parseChildIndex, renderByOrder, validateWidthHeight } from '../util/ReactUtils';\nimport { CartesianAxis } from '../cartesian/CartesianAxis';\nimport { Brush } from '../cartesian/Brush';\nimport { getOffset } from '../util/DOMUtils';\nimport { findEntryInArray, getAnyElementOfObject, hasDuplicate, isNumber, uniqueId } from '../util/DataUtils';\nimport { appendOffsetOfLegend, calculateActiveTickIndex, combineEventHandlers, getBandSizeOfAxis, getBarPosition, getBarSizeList, getCoordinatesOfGrid, getDomainOfDataByKey, getDomainOfItemsWithSameAxis, getDomainOfStackGroups, getLegendProps, getMainColorOfGraphicItem, getStackedDataOfItem, getStackGroupsByAxisId, getTicksOfAxis, getTooltipItem, isCategoricalAxis, parseDomainOfCategoryAxis, parseErrorBarsOfAxis, parseSpecifiedDomain } from '../util/ChartUtils';\nimport { detectReferenceElementsDomain } from '../util/DetectReferenceElementsDomain';\nimport { inRangeOfSector, polarToCartesian } from '../util/PolarUtils';\nimport { shallowEqual } from '../util/ShallowEqual';\nimport { eventCenter, SYNC_EVENT } from '../util/Events';\nimport { adaptEventHandlers } from '../util/types';\nimport { AccessibilityManager } from './AccessibilityManager';\nimport { isDomainSpecifiedByUser } from '../util/isDomainSpecifiedByUser';\nimport { getActiveShapeIndexForTooltip, isFunnel, isPie, isScatter } from '../util/ActiveShapeUtils';\nimport { getCursorPoints } from '../util/cursor/getCursorPoints';\nimport { getCursorRectangle } from '../util/cursor/getCursorRectangle';\nvar ORIENT_MAP = {\n  xAxis: ['bottom', 'top'],\n  yAxis: ['left', 'right']\n};\nvar FULL_WIDTH_AND_HEIGHT = {\n  width: '100%',\n  height: '100%'\n};\nvar originCoordinate = {\n  x: 0,\n  y: 0\n};\nvar calculateTooltipPos = function calculateTooltipPos(rangeObj, layout) {\n  if (layout === 'horizontal') {\n    return rangeObj.x;\n  }\n  if (layout === 'vertical') {\n    return rangeObj.y;\n  }\n  if (layout === 'centric') {\n    return rangeObj.angle;\n  }\n  return rangeObj.radius;\n};\nvar getActiveCoordinate = function getActiveCoordinate(layout, tooltipTicks, activeIndex, rangeObj) {\n  var entry = tooltipTicks.find(function (tick) {\n    return tick && tick.index === activeIndex;\n  });\n  if (entry) {\n    if (layout === 'horizontal') {\n      return {\n        x: entry.coordinate,\n        y: rangeObj.y\n      };\n    }\n    if (layout === 'vertical') {\n      return {\n        x: rangeObj.x,\n        y: entry.coordinate\n      };\n    }\n    if (layout === 'centric') {\n      var _angle = entry.coordinate;\n      var _radius = rangeObj.radius;\n      return _objectSpread(_objectSpread(_objectSpread({}, rangeObj), polarToCartesian(rangeObj.cx, rangeObj.cy, _radius, _angle)), {}, {\n        angle: _angle,\n        radius: _radius\n      });\n    }\n    var radius = entry.coordinate;\n    var angle = rangeObj.angle;\n    return _objectSpread(_objectSpread(_objectSpread({}, rangeObj), polarToCartesian(rangeObj.cx, rangeObj.cy, radius, angle)), {}, {\n      angle: angle,\n      radius: radius\n    });\n  }\n  return originCoordinate;\n};\nvar getDisplayedData = function getDisplayedData(data, _ref) {\n  var graphicalItems = _ref.graphicalItems,\n    dataStartIndex = _ref.dataStartIndex,\n    dataEndIndex = _ref.dataEndIndex;\n  var itemsData = (graphicalItems !== null && graphicalItems !== void 0 ? graphicalItems : []).reduce(function (result, child) {\n    var itemData = child.props.data;\n    if (itemData && itemData.length) {\n      return [].concat(_toConsumableArray(result), _toConsumableArray(itemData));\n    }\n    return result;\n  }, []);\n  if (itemsData.length > 0) {\n    return itemsData;\n  }\n  if (data && data.length && isNumber(dataStartIndex) && isNumber(dataEndIndex)) {\n    return data.slice(dataStartIndex, dataEndIndex + 1);\n  }\n  return [];\n};\nfunction getDefaultDomainByAxisType(axisType) {\n  return axisType === 'number' ? [0, 'auto'] : undefined;\n}\n\n/**\n * Get the content to be displayed in the tooltip\n * @param  {Object} state          Current state\n * @param  {Array}  chartData      The data defined in chart\n * @param  {Number} activeIndex    Active index of data\n * @param  {String} activeLabel    Active label of data\n * @return {Array}                 The content of tooltip\n */\nvar getTooltipContent = function getTooltipContent(state, chartData, activeIndex, activeLabel) {\n  var graphicalItems = state.graphicalItems,\n    tooltipAxis = state.tooltipAxis;\n  var displayedData = getDisplayedData(chartData, state);\n  if (activeIndex < 0 || !graphicalItems || !graphicalItems.length || activeIndex >= displayedData.length) {\n    return null;\n  }\n  // get data by activeIndex when the axis don't allow duplicated category\n  return graphicalItems.reduce(function (result, child) {\n    var _child$props$data;\n    var hide = child.props.hide;\n    if (hide) {\n      return result;\n    }\n\n    /**\n     * Fixes: https://github.com/recharts/recharts/issues/3669\n     * Defaulting to chartData below to fix an edge case where the tooltip does not include data from all charts\n     * when a separate dataset is passed to chart prop data and specified on Line/Area/etc prop data\n     */\n    var data = (_child$props$data = child.props.data) !== null && _child$props$data !== void 0 ? _child$props$data : chartData;\n    if (data && state.dataStartIndex + state.dataEndIndex !== 0) {\n      data = data.slice(state.dataStartIndex, state.dataEndIndex + 1);\n    }\n    var payload;\n    if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n      // graphic child has data props\n      var entries = data === undefined ? displayedData : data;\n      payload = findEntryInArray(entries, tooltipAxis.dataKey, activeLabel);\n    } else {\n      payload = data && data[activeIndex] || displayedData[activeIndex];\n    }\n    if (!payload) {\n      return result;\n    }\n    return [].concat(_toConsumableArray(result), [getTooltipItem(child, payload)]);\n  }, []);\n};\n\n/**\n * Returns tooltip data based on a mouse position (as a parameter or in state)\n * @param  {Object} state     current state\n * @param  {Array}  chartData the data defined in chart\n * @param  {String} layout     The layout type of chart\n * @param  {Object} rangeObj  { x, y } coordinates\n * @return {Object}           Tooltip data data\n */\nvar getTooltipData = function getTooltipData(state, chartData, layout, rangeObj) {\n  var rangeData = rangeObj || {\n    x: state.chartX,\n    y: state.chartY\n  };\n  var pos = calculateTooltipPos(rangeData, layout);\n  var ticks = state.orderedTooltipTicks,\n    axis = state.tooltipAxis,\n    tooltipTicks = state.tooltipTicks;\n  var activeIndex = calculateActiveTickIndex(pos, ticks, tooltipTicks, axis);\n  if (activeIndex >= 0 && tooltipTicks) {\n    var activeLabel = tooltipTicks[activeIndex] && tooltipTicks[activeIndex].value;\n    var activePayload = getTooltipContent(state, chartData, activeIndex, activeLabel);\n    var activeCoordinate = getActiveCoordinate(layout, ticks, activeIndex, rangeData);\n    return {\n      activeTooltipIndex: activeIndex,\n      activeLabel: activeLabel,\n      activePayload: activePayload,\n      activeCoordinate: activeCoordinate\n    };\n  }\n  return null;\n};\n\n/**\n * Get the configuration of axis by the options of axis instance\n * @param  {Object} props         Latest props\n * @param {Array}  axes           The instance of axes\n * @param  {Array} graphicalItems The instances of item\n * @param  {String} axisType      The type of axis, xAxis - x-axis, yAxis - y-axis\n * @param  {String} axisIdKey     The unique id of an axis\n * @param  {Object} stackGroups   The items grouped by axisId and stackId\n * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n * @return {Object}      Configuration\n */\nexport var getAxisMapByAxes = function getAxisMapByAxes(props, _ref2) {\n  var axes = _ref2.axes,\n    graphicalItems = _ref2.graphicalItems,\n    axisType = _ref2.axisType,\n    axisIdKey = _ref2.axisIdKey,\n    stackGroups = _ref2.stackGroups,\n    dataStartIndex = _ref2.dataStartIndex,\n    dataEndIndex = _ref2.dataEndIndex;\n  var layout = props.layout,\n    children = props.children,\n    stackOffset = props.stackOffset;\n  var isCategorical = isCategoricalAxis(layout, axisType);\n\n  // Eliminate duplicated axes\n  return axes.reduce(function (result, child) {\n    var _child$props$domain2;\n    var _child$props = child.props,\n      type = _child$props.type,\n      dataKey = _child$props.dataKey,\n      allowDataOverflow = _child$props.allowDataOverflow,\n      allowDuplicatedCategory = _child$props.allowDuplicatedCategory,\n      scale = _child$props.scale,\n      ticks = _child$props.ticks,\n      includeHidden = _child$props.includeHidden;\n    var axisId = child.props[axisIdKey];\n    if (result[axisId]) {\n      return result;\n    }\n    var displayedData = getDisplayedData(props.data, {\n      graphicalItems: graphicalItems.filter(function (item) {\n        return item.props[axisIdKey] === axisId;\n      }),\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex\n    });\n    var len = displayedData.length;\n    var domain, duplicateDomain, categoricalDomain;\n\n    /*\n     * This is a hack to short-circuit the domain creation here to enhance performance.\n     * Usually, the data is used to determine the domain, but when the user specifies\n     * a domain upfront (via props), there is no need to calculate the domain start and end,\n     * which is very expensive for a larger amount of data.\n     * The only thing that would prohibit short-circuiting is when the user doesn't allow data overflow,\n     * because the axis is supposed to ignore the specified domain that way.\n     */\n    if (isDomainSpecifiedByUser(child.props.domain, allowDataOverflow, type)) {\n      domain = parseSpecifiedDomain(child.props.domain, null, allowDataOverflow);\n      /* The chart can be categorical and have the domain specified in numbers\n       * we still need to calculate the categorical domain\n       * TODO: refactor this more\n       */\n      if (isCategorical && (type === 'number' || scale !== 'auto')) {\n        categoricalDomain = getDomainOfDataByKey(displayedData, dataKey, 'category');\n      }\n    }\n\n    // if the domain is defaulted we need this for `originalDomain` as well\n    var defaultDomain = getDefaultDomainByAxisType(type);\n\n    // we didn't create the domain from user's props above, so we need to calculate it\n    if (!domain || domain.length === 0) {\n      var _child$props$domain;\n      var childDomain = (_child$props$domain = child.props.domain) !== null && _child$props$domain !== void 0 ? _child$props$domain : defaultDomain;\n      if (dataKey) {\n        // has dataKey in <Axis />\n        domain = getDomainOfDataByKey(displayedData, dataKey, type);\n        if (type === 'category' && isCategorical) {\n          // the field type is category data and this axis is categorical axis\n          var duplicate = hasDuplicate(domain);\n          if (allowDuplicatedCategory && duplicate) {\n            duplicateDomain = domain;\n            // When category axis has duplicated text, serial numbers are used to generate scale\n            domain = range(0, len);\n          } else if (!allowDuplicatedCategory) {\n            // remove duplicated category\n            domain = parseDomainOfCategoryAxis(childDomain, domain, child).reduce(function (finalDomain, entry) {\n              return finalDomain.indexOf(entry) >= 0 ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n            }, []);\n          }\n        } else if (type === 'category') {\n          // the field type is category data and this axis is numerical axis\n          if (!allowDuplicatedCategory) {\n            domain = parseDomainOfCategoryAxis(childDomain, domain, child).reduce(function (finalDomain, entry) {\n              return finalDomain.indexOf(entry) >= 0 || entry === '' || isNil(entry) ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n            }, []);\n          } else {\n            // eliminate undefined or null or empty string\n            domain = domain.filter(function (entry) {\n              return entry !== '' && !isNil(entry);\n            });\n          }\n        } else if (type === 'number') {\n          // the field type is numerical\n          var errorBarsDomain = parseErrorBarsOfAxis(displayedData, graphicalItems.filter(function (item) {\n            return item.props[axisIdKey] === axisId && (includeHidden || !item.props.hide);\n          }), dataKey, axisType, layout);\n          if (errorBarsDomain) {\n            domain = errorBarsDomain;\n          }\n        }\n        if (isCategorical && (type === 'number' || scale !== 'auto')) {\n          categoricalDomain = getDomainOfDataByKey(displayedData, dataKey, 'category');\n        }\n      } else if (isCategorical) {\n        // the axis is a categorical axis\n        domain = range(0, len);\n      } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack && type === 'number') {\n        // when stackOffset is 'expand', the domain may be calculated as [0, 1.000000000002]\n        domain = stackOffset === 'expand' ? [0, 1] : getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n      } else {\n        domain = getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n          return item.props[axisIdKey] === axisId && (includeHidden || !item.props.hide);\n        }), type, layout, true);\n      }\n      if (type === 'number') {\n        // To detect wether there is any reference lines whose props alwaysShow is true\n        domain = detectReferenceElementsDomain(children, domain, axisId, axisType, ticks);\n        if (childDomain) {\n          domain = parseSpecifiedDomain(childDomain, domain, allowDataOverflow);\n        }\n      } else if (type === 'category' && childDomain) {\n        var axisDomain = childDomain;\n        var isDomainValid = domain.every(function (entry) {\n          return axisDomain.indexOf(entry) >= 0;\n        });\n        if (isDomainValid) {\n          domain = axisDomain;\n        }\n      }\n    }\n    return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, axisId, _objectSpread(_objectSpread({}, child.props), {}, {\n      axisType: axisType,\n      domain: domain,\n      categoricalDomain: categoricalDomain,\n      duplicateDomain: duplicateDomain,\n      originalDomain: (_child$props$domain2 = child.props.domain) !== null && _child$props$domain2 !== void 0 ? _child$props$domain2 : defaultDomain,\n      isCategorical: isCategorical,\n      layout: layout\n    })));\n  }, {});\n};\n\n/**\n * Get the configuration of axis by the options of item,\n * this kind of axis does not display in chart\n * @param  {Object} props         Latest props\n * @param  {Array} graphicalItems The instances of item\n * @param  {ReactElement} Axis    Axis Component\n * @param  {String} axisType      The type of axis, xAxis - x-axis, yAxis - y-axis\n * @param  {String} axisIdKey     The unique id of an axis\n * @param  {Object} stackGroups   The items grouped by axisId and stackId\n * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n * @return {Object}               Configuration\n */\nvar getAxisMapByItems = function getAxisMapByItems(props, _ref3) {\n  var graphicalItems = _ref3.graphicalItems,\n    Axis = _ref3.Axis,\n    axisType = _ref3.axisType,\n    axisIdKey = _ref3.axisIdKey,\n    stackGroups = _ref3.stackGroups,\n    dataStartIndex = _ref3.dataStartIndex,\n    dataEndIndex = _ref3.dataEndIndex;\n  var layout = props.layout,\n    children = props.children;\n  var displayedData = getDisplayedData(props.data, {\n    graphicalItems: graphicalItems,\n    dataStartIndex: dataStartIndex,\n    dataEndIndex: dataEndIndex\n  });\n  var len = displayedData.length;\n  var isCategorical = isCategoricalAxis(layout, axisType);\n  var index = -1;\n\n  // The default type of x-axis is category axis,\n  // The default contents of x-axis is the serial numbers of data\n  // The default type of y-axis is number axis\n  // The default contents of y-axis is the domain of data\n  return graphicalItems.reduce(function (result, child) {\n    var axisId = child.props[axisIdKey];\n    var originalDomain = getDefaultDomainByAxisType('number');\n    if (!result[axisId]) {\n      index++;\n      var domain;\n      if (isCategorical) {\n        domain = range(0, len);\n      } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack) {\n        domain = getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n        domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n      } else {\n        domain = parseSpecifiedDomain(originalDomain, getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n          return item.props[axisIdKey] === axisId && !item.props.hide;\n        }), 'number', layout), Axis.defaultProps.allowDataOverflow);\n        domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n      }\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, axisId, _objectSpread(_objectSpread({\n        axisType: axisType\n      }, Axis.defaultProps), {}, {\n        hide: true,\n        orientation: get(ORIENT_MAP, \"\".concat(axisType, \".\").concat(index % 2), null),\n        domain: domain,\n        originalDomain: originalDomain,\n        isCategorical: isCategorical,\n        layout: layout\n        // specify scale when no Axis\n        // scale: isCategorical ? 'band' : 'linear',\n      })));\n    }\n\n    return result;\n  }, {});\n};\n\n/**\n * Get the configuration of all x-axis or y-axis\n * @param  {Object} props          Latest props\n * @param  {String} axisType       The type of axis\n * @param  {React.ComponentType}  [AxisComp]      Axis Component\n * @param  {Array}  graphicalItems The instances of item\n * @param  {Object} stackGroups    The items grouped by axisId and stackId\n * @param {Number} dataStartIndex  The start index of the data series when a brush is applied\n * @param {Number} dataEndIndex    The end index of the data series when a brush is applied\n * @return {Object}          Configuration\n */\nvar getAxisMap = function getAxisMap(props, _ref4) {\n  var _ref4$axisType = _ref4.axisType,\n    axisType = _ref4$axisType === void 0 ? 'xAxis' : _ref4$axisType,\n    AxisComp = _ref4.AxisComp,\n    graphicalItems = _ref4.graphicalItems,\n    stackGroups = _ref4.stackGroups,\n    dataStartIndex = _ref4.dataStartIndex,\n    dataEndIndex = _ref4.dataEndIndex;\n  var children = props.children;\n  var axisIdKey = \"\".concat(axisType, \"Id\");\n  // Get all the instance of Axis\n  var axes = findAllByType(children, AxisComp);\n  var axisMap = {};\n  if (axes && axes.length) {\n    axisMap = getAxisMapByAxes(props, {\n      axes: axes,\n      graphicalItems: graphicalItems,\n      axisType: axisType,\n      axisIdKey: axisIdKey,\n      stackGroups: stackGroups,\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex\n    });\n  } else if (graphicalItems && graphicalItems.length) {\n    axisMap = getAxisMapByItems(props, {\n      Axis: AxisComp,\n      graphicalItems: graphicalItems,\n      axisType: axisType,\n      axisIdKey: axisIdKey,\n      stackGroups: stackGroups,\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex\n    });\n  }\n  return axisMap;\n};\nvar tooltipTicksGenerator = function tooltipTicksGenerator(axisMap) {\n  var axis = getAnyElementOfObject(axisMap);\n  var tooltipTicks = getTicksOfAxis(axis, false, true);\n  return {\n    tooltipTicks: tooltipTicks,\n    orderedTooltipTicks: sortBy(tooltipTicks, function (o) {\n      return o.coordinate;\n    }),\n    tooltipAxis: axis,\n    tooltipAxisBandSize: getBandSizeOfAxis(axis, tooltipTicks)\n  };\n};\n\n/**\n * Returns default, reset state for the categorical chart.\n * @param {Object} props Props object to use when creating the default state\n * @return {Object} Whole new state\n */\nexport var createDefaultState = function createDefaultState(props) {\n  var children = props.children,\n    defaultShowTooltip = props.defaultShowTooltip;\n  var brushItem = findChildByType(children, Brush);\n  var startIndex = 0;\n  var endIndex = 0;\n  if (props.data && props.data.length !== 0) {\n    endIndex = props.data.length - 1;\n  }\n  if (brushItem && brushItem.props) {\n    if (brushItem.props.startIndex >= 0) {\n      startIndex = brushItem.props.startIndex;\n    }\n    if (brushItem.props.endIndex >= 0) {\n      endIndex = brushItem.props.endIndex;\n    }\n  }\n  return {\n    chartX: 0,\n    chartY: 0,\n    dataStartIndex: startIndex,\n    dataEndIndex: endIndex,\n    activeTooltipIndex: -1,\n    isTooltipActive: Boolean(defaultShowTooltip)\n  };\n};\nvar hasGraphicalBarItem = function hasGraphicalBarItem(graphicalItems) {\n  if (!graphicalItems || !graphicalItems.length) {\n    return false;\n  }\n  return graphicalItems.some(function (item) {\n    var name = getDisplayName(item && item.type);\n    return name && name.indexOf('Bar') >= 0;\n  });\n};\nvar getAxisNameByLayout = function getAxisNameByLayout(layout) {\n  if (layout === 'horizontal') {\n    return {\n      numericAxisName: 'yAxis',\n      cateAxisName: 'xAxis'\n    };\n  }\n  if (layout === 'vertical') {\n    return {\n      numericAxisName: 'xAxis',\n      cateAxisName: 'yAxis'\n    };\n  }\n  if (layout === 'centric') {\n    return {\n      numericAxisName: 'radiusAxis',\n      cateAxisName: 'angleAxis'\n    };\n  }\n  return {\n    numericAxisName: 'angleAxis',\n    cateAxisName: 'radiusAxis'\n  };\n};\n\n/**\n * Calculate the offset of main part in the svg element\n * @param  {Object} params.props          Latest props\n * @param  {Array}  params.graphicalItems The instances of item\n * @param  {Object} params.xAxisMap       The configuration of x-axis\n * @param  {Object} params.yAxisMap       The configuration of y-axis\n * @param  {Object} prevLegendBBox        The boundary box of legend\n * @return {Object} The offset of main part in the svg element\n */\nvar calculateOffset = function calculateOffset(_ref5, prevLegendBBox) {\n  var props = _ref5.props,\n    graphicalItems = _ref5.graphicalItems,\n    _ref5$xAxisMap = _ref5.xAxisMap,\n    xAxisMap = _ref5$xAxisMap === void 0 ? {} : _ref5$xAxisMap,\n    _ref5$yAxisMap = _ref5.yAxisMap,\n    yAxisMap = _ref5$yAxisMap === void 0 ? {} : _ref5$yAxisMap;\n  var width = props.width,\n    height = props.height,\n    children = props.children;\n  var margin = props.margin || {};\n  var brushItem = findChildByType(children, Brush);\n  var legendItem = findChildByType(children, Legend);\n  var offsetH = Object.keys(yAxisMap).reduce(function (result, id) {\n    var entry = yAxisMap[id];\n    var orientation = entry.orientation;\n    if (!entry.mirror && !entry.hide) {\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, orientation, result[orientation] + entry.width));\n    }\n    return result;\n  }, {\n    left: margin.left || 0,\n    right: margin.right || 0\n  });\n  var offsetV = Object.keys(xAxisMap).reduce(function (result, id) {\n    var entry = xAxisMap[id];\n    var orientation = entry.orientation;\n    if (!entry.mirror && !entry.hide) {\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, orientation, get(result, \"\".concat(orientation)) + entry.height));\n    }\n    return result;\n  }, {\n    top: margin.top || 0,\n    bottom: margin.bottom || 0\n  });\n  var offset = _objectSpread(_objectSpread({}, offsetV), offsetH);\n  var brushBottom = offset.bottom;\n  if (brushItem) {\n    offset.bottom += brushItem.props.height || Brush.defaultProps.height;\n  }\n  if (legendItem && prevLegendBBox) {\n    // @ts-expect-error margin is optional in props but required in appendOffsetOfLegend\n    offset = appendOffsetOfLegend(offset, graphicalItems, props, prevLegendBBox);\n  }\n  var offsetWidth = width - offset.left - offset.right;\n  var offsetHeight = height - offset.top - offset.bottom;\n  return _objectSpread(_objectSpread({\n    brushBottom: brushBottom\n  }, offset), {}, {\n    // never return negative values for height and width\n    width: Math.max(offsetWidth, 0),\n    height: Math.max(offsetHeight, 0)\n  });\n};\nexport var generateCategoricalChart = function generateCategoricalChart(_ref6) {\n  var _class;\n  var chartName = _ref6.chartName,\n    GraphicalChild = _ref6.GraphicalChild,\n    _ref6$defaultTooltipE = _ref6.defaultTooltipEventType,\n    defaultTooltipEventType = _ref6$defaultTooltipE === void 0 ? 'axis' : _ref6$defaultTooltipE,\n    _ref6$validateTooltip = _ref6.validateTooltipEventTypes,\n    validateTooltipEventTypes = _ref6$validateTooltip === void 0 ? ['axis'] : _ref6$validateTooltip,\n    axisComponents = _ref6.axisComponents,\n    legendContent = _ref6.legendContent,\n    formatAxisMap = _ref6.formatAxisMap,\n    defaultProps = _ref6.defaultProps;\n  var getFormatItems = function getFormatItems(props, currentState) {\n    var graphicalItems = currentState.graphicalItems,\n      stackGroups = currentState.stackGroups,\n      offset = currentState.offset,\n      updateId = currentState.updateId,\n      dataStartIndex = currentState.dataStartIndex,\n      dataEndIndex = currentState.dataEndIndex;\n    var barSize = props.barSize,\n      layout = props.layout,\n      barGap = props.barGap,\n      barCategoryGap = props.barCategoryGap,\n      globalMaxBarSize = props.maxBarSize;\n    var _getAxisNameByLayout = getAxisNameByLayout(layout),\n      numericAxisName = _getAxisNameByLayout.numericAxisName,\n      cateAxisName = _getAxisNameByLayout.cateAxisName;\n    var hasBar = hasGraphicalBarItem(graphicalItems);\n    var sizeList = hasBar && getBarSizeList({\n      barSize: barSize,\n      stackGroups: stackGroups\n    });\n    var formattedItems = [];\n    graphicalItems.forEach(function (item, index) {\n      var displayedData = getDisplayedData(props.data, {\n        graphicalItems: [item],\n        dataStartIndex: dataStartIndex,\n        dataEndIndex: dataEndIndex\n      });\n      var _item$props = item.props,\n        dataKey = _item$props.dataKey,\n        childMaxBarSize = _item$props.maxBarSize;\n      // axisId of the numerical axis\n      var numericAxisId = item.props[\"\".concat(numericAxisName, \"Id\")];\n      // axisId of the categorical axis\n      var cateAxisId = item.props[\"\".concat(cateAxisName, \"Id\")];\n      var axisObjInitialValue = {};\n      var axisObj = axisComponents.reduce(function (result, entry) {\n        var _item$type$displayNam, _item$type, _objectSpread6;\n        // map of axisId to axis for a specific axis type\n        var axisMap = currentState[\"\".concat(entry.axisType, \"Map\")];\n        // axisId of axis we are currently computing\n        var id = item.props[\"\".concat(entry.axisType, \"Id\")];\n\n        /**\n         * tell the user in dev mode that their configuration is incorrect if we cannot find a match between\n         * axisId on the chart and axisId on the axis. zAxis does not get passed in the map for ComposedChart,\n         * leave it out of the check for now.\n         */\n        !(axisMap && axisMap[id] || entry.axisType === 'zAxis') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Specifying a(n) \".concat(entry.axisType, \"Id requires a corresponding \").concat(entry.axisType\n        // @ts-expect-error we should stop reading data from ReactElements\n        , \"Id on the targeted graphical component \").concat((_item$type$displayNam = item === null || item === void 0 || (_item$type = item.type) === null || _item$type === void 0 ? void 0 : _item$type.displayName) !== null && _item$type$displayNam !== void 0 ? _item$type$displayNam : '')) : invariant(false) : void 0;\n\n        // the axis we are currently formatting\n        var axis = axisMap[id];\n        return _objectSpread(_objectSpread({}, result), {}, (_objectSpread6 = {}, _defineProperty(_objectSpread6, entry.axisType, axis), _defineProperty(_objectSpread6, \"\".concat(entry.axisType, \"Ticks\"), getTicksOfAxis(axis)), _objectSpread6));\n      }, axisObjInitialValue);\n      var cateAxis = axisObj[cateAxisName];\n      var cateTicks = axisObj[\"\".concat(cateAxisName, \"Ticks\")];\n      var stackedData = stackGroups && stackGroups[numericAxisId] && stackGroups[numericAxisId].hasStack && getStackedDataOfItem(item, stackGroups[numericAxisId].stackGroups);\n      var itemIsBar = getDisplayName(item.type).indexOf('Bar') >= 0;\n      var bandSize = getBandSizeOfAxis(cateAxis, cateTicks);\n      var barPosition = [];\n      if (itemIsBar) {\n        var _ref7, _getBandSizeOfAxis;\n        // 如果是bar，计算bar的位置\n        var maxBarSize = isNil(childMaxBarSize) ? globalMaxBarSize : childMaxBarSize;\n        var barBandSize = (_ref7 = (_getBandSizeOfAxis = getBandSizeOfAxis(cateAxis, cateTicks, true)) !== null && _getBandSizeOfAxis !== void 0 ? _getBandSizeOfAxis : maxBarSize) !== null && _ref7 !== void 0 ? _ref7 : 0;\n        barPosition = getBarPosition({\n          barGap: barGap,\n          barCategoryGap: barCategoryGap,\n          bandSize: barBandSize !== bandSize ? barBandSize : bandSize,\n          sizeList: sizeList[cateAxisId],\n          maxBarSize: maxBarSize\n        });\n        if (barBandSize !== bandSize) {\n          barPosition = barPosition.map(function (pos) {\n            return _objectSpread(_objectSpread({}, pos), {}, {\n              position: _objectSpread(_objectSpread({}, pos.position), {}, {\n                offset: pos.position.offset - barBandSize / 2\n              })\n            });\n          });\n        }\n      }\n      // @ts-expect-error we should stop reading data from ReactElements\n      var composedFn = item && item.type && item.type.getComposedData;\n      if (composedFn) {\n        var _objectSpread7;\n        formattedItems.push({\n          props: _objectSpread(_objectSpread({}, composedFn(_objectSpread(_objectSpread({}, axisObj), {}, {\n            displayedData: displayedData,\n            props: props,\n            dataKey: dataKey,\n            item: item,\n            bandSize: bandSize,\n            barPosition: barPosition,\n            offset: offset,\n            stackedData: stackedData,\n            layout: layout,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }))), {}, (_objectSpread7 = {\n            key: item.key || \"item-\".concat(index)\n          }, _defineProperty(_objectSpread7, numericAxisName, axisObj[numericAxisName]), _defineProperty(_objectSpread7, cateAxisName, axisObj[cateAxisName]), _defineProperty(_objectSpread7, \"animationId\", updateId), _objectSpread7)),\n          childIndex: parseChildIndex(item, props.children),\n          item: item\n        });\n      }\n    });\n    return formattedItems;\n  };\n\n  /**\n   * The AxisMaps are expensive to render on large data sets\n   * so provide the ability to store them in state and only update them when necessary\n   * they are dependent upon the start and end index of\n   * the brush so it's important that this method is called _after_\n   * the state is updated with any new start/end indices\n   *\n   * @param {Object} props          The props object to be used for updating the axismaps\n   * dataStartIndex: The start index of the data series when a brush is applied\n   * dataEndIndex: The end index of the data series when a brush is applied\n   * updateId: The update id\n   * @param {Object} prevState      Prev state\n   * @return {Object} state New state to set\n   */\n  var updateStateOfAxisMapsOffsetAndStackGroups = function updateStateOfAxisMapsOffsetAndStackGroups(_ref8, prevState) {\n    var props = _ref8.props,\n      dataStartIndex = _ref8.dataStartIndex,\n      dataEndIndex = _ref8.dataEndIndex,\n      updateId = _ref8.updateId;\n    if (!validateWidthHeight({\n      props: props\n    })) {\n      return null;\n    }\n    var children = props.children,\n      layout = props.layout,\n      stackOffset = props.stackOffset,\n      data = props.data,\n      reverseStackOrder = props.reverseStackOrder;\n    var _getAxisNameByLayout2 = getAxisNameByLayout(layout),\n      numericAxisName = _getAxisNameByLayout2.numericAxisName,\n      cateAxisName = _getAxisNameByLayout2.cateAxisName;\n    var graphicalItems = findAllByType(children, GraphicalChild);\n    var stackGroups = getStackGroupsByAxisId(data, graphicalItems, \"\".concat(numericAxisName, \"Id\"), \"\".concat(cateAxisName, \"Id\"), stackOffset, reverseStackOrder);\n    var axisObj = axisComponents.reduce(function (result, entry) {\n      var name = \"\".concat(entry.axisType, \"Map\");\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, name, getAxisMap(props, _objectSpread(_objectSpread({}, entry), {}, {\n        graphicalItems: graphicalItems,\n        stackGroups: entry.axisType === numericAxisName && stackGroups,\n        dataStartIndex: dataStartIndex,\n        dataEndIndex: dataEndIndex\n      }))));\n    }, {});\n    var offset = calculateOffset(_objectSpread(_objectSpread({}, axisObj), {}, {\n      props: props,\n      graphicalItems: graphicalItems\n    }), prevState === null || prevState === void 0 ? void 0 : prevState.legendBBox);\n    Object.keys(axisObj).forEach(function (key) {\n      axisObj[key] = formatAxisMap(props, axisObj[key], offset, key.replace('Map', ''), chartName);\n    });\n    var cateAxisMap = axisObj[\"\".concat(cateAxisName, \"Map\")];\n    var ticksObj = tooltipTicksGenerator(cateAxisMap);\n    var formattedGraphicalItems = getFormatItems(props, _objectSpread(_objectSpread({}, axisObj), {}, {\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex,\n      updateId: updateId,\n      graphicalItems: graphicalItems,\n      stackGroups: stackGroups,\n      offset: offset\n    }));\n    return _objectSpread(_objectSpread({\n      formattedGraphicalItems: formattedGraphicalItems,\n      graphicalItems: graphicalItems,\n      offset: offset,\n      stackGroups: stackGroups\n    }, ticksObj), axisObj);\n  };\n  return _class = /*#__PURE__*/function (_Component) {\n    _inherits(CategoricalChartWrapper, _Component);\n    var _super = _createSuper(CategoricalChartWrapper);\n    function CategoricalChartWrapper(_props) {\n      var _props$id, _props$throttleDelay;\n      var _this;\n      _classCallCheck(this, CategoricalChartWrapper);\n      _this = _super.call(this, _props);\n      _defineProperty(_assertThisInitialized(_this), \"eventEmitterSymbol\", Symbol('rechartsEventEmitter'));\n      _defineProperty(_assertThisInitialized(_this), \"accessibilityManager\", new AccessibilityManager());\n      _defineProperty(_assertThisInitialized(_this), \"handleLegendBBoxUpdate\", function (box) {\n        if (box) {\n          var _this$state = _this.state,\n            dataStartIndex = _this$state.dataStartIndex,\n            dataEndIndex = _this$state.dataEndIndex,\n            updateId = _this$state.updateId;\n          _this.setState(_objectSpread({\n            legendBBox: box\n          }, updateStateOfAxisMapsOffsetAndStackGroups({\n            props: _this.props,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex,\n            updateId: updateId\n          }, _objectSpread(_objectSpread({}, _this.state), {}, {\n            legendBBox: box\n          }))));\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleReceiveSyncEvent\", function (cId, data, emitter) {\n        if (_this.props.syncId === cId) {\n          if (emitter === _this.eventEmitterSymbol && typeof _this.props.syncMethod !== 'function') {\n            return;\n          }\n          _this.applySyncEvent(data);\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleBrushChange\", function (_ref9) {\n        var startIndex = _ref9.startIndex,\n          endIndex = _ref9.endIndex;\n        // Only trigger changes if the extents of the brush have actually changed\n        if (startIndex !== _this.state.dataStartIndex || endIndex !== _this.state.dataEndIndex) {\n          var updateId = _this.state.updateId;\n          _this.setState(function () {\n            return _objectSpread({\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex\n            }, updateStateOfAxisMapsOffsetAndStackGroups({\n              props: _this.props,\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex,\n              updateId: updateId\n            }, _this.state));\n          });\n          _this.triggerSyncEvent({\n            dataStartIndex: startIndex,\n            dataEndIndex: endIndex\n          });\n        }\n      });\n      /**\n       * The handler of mouse entering chart\n       * @param  {Object} e              Event object\n       * @return {Null}                  null\n       */\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseEnter\", function (e) {\n        var mouse = _this.getMouseInfo(e);\n        if (mouse) {\n          var _nextState = _objectSpread(_objectSpread({}, mouse), {}, {\n            isTooltipActive: true\n          });\n          _this.setState(_nextState);\n          _this.triggerSyncEvent(_nextState);\n          var onMouseEnter = _this.props.onMouseEnter;\n          if (isFunction(onMouseEnter)) {\n            onMouseEnter(_nextState, e);\n          }\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"triggeredAfterMouseMove\", function (e) {\n        var mouse = _this.getMouseInfo(e);\n        var nextState = mouse ? _objectSpread(_objectSpread({}, mouse), {}, {\n          isTooltipActive: true\n        }) : {\n          isTooltipActive: false\n        };\n        _this.setState(nextState);\n        _this.triggerSyncEvent(nextState);\n        var onMouseMove = _this.props.onMouseMove;\n        if (isFunction(onMouseMove)) {\n          onMouseMove(nextState, e);\n        }\n      });\n      /**\n       * The handler of mouse entering a scatter\n       * @param {Object} el The active scatter\n       * @return {Object} no return\n       */\n      _defineProperty(_assertThisInitialized(_this), \"handleItemMouseEnter\", function (el) {\n        _this.setState(function () {\n          return {\n            isTooltipActive: true,\n            activeItem: el,\n            activePayload: el.tooltipPayload,\n            activeCoordinate: el.tooltipPosition || {\n              x: el.cx,\n              y: el.cy\n            }\n          };\n        });\n      });\n      /**\n       * The handler of mouse leaving a scatter\n       * @return {Object} no return\n       */\n      _defineProperty(_assertThisInitialized(_this), \"handleItemMouseLeave\", function () {\n        _this.setState(function () {\n          return {\n            isTooltipActive: false\n          };\n        });\n      });\n      /**\n       * The handler of mouse moving in chart\n       * @param  {React.MouseEvent} e        Event object\n       * @return {void} no return\n       */\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseMove\", function (e) {\n        e.persist();\n        _this.throttleTriggeredAfterMouseMove(e);\n      });\n      /**\n       * The handler if mouse leaving chart\n       * @param {Object} e Event object\n       * @return {Null} no return\n       */\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseLeave\", function (e) {\n        var nextState = {\n          isTooltipActive: false\n        };\n        _this.setState(nextState);\n        _this.triggerSyncEvent(nextState);\n        var onMouseLeave = _this.props.onMouseLeave;\n        if (isFunction(onMouseLeave)) {\n          onMouseLeave(nextState, e);\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleOuterEvent\", function (e) {\n        var eventName = getReactEventByType(e);\n        var event = get(_this.props, \"\".concat(eventName));\n        if (eventName && isFunction(event)) {\n          var _mouse;\n          var mouse;\n          if (/.*touch.*/i.test(eventName)) {\n            mouse = _this.getMouseInfo(e.changedTouches[0]);\n          } else {\n            mouse = _this.getMouseInfo(e);\n          }\n          event((_mouse = mouse) !== null && _mouse !== void 0 ? _mouse : {}, e);\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (e) {\n        var mouse = _this.getMouseInfo(e);\n        if (mouse) {\n          var _nextState2 = _objectSpread(_objectSpread({}, mouse), {}, {\n            isTooltipActive: true\n          });\n          _this.setState(_nextState2);\n          _this.triggerSyncEvent(_nextState2);\n          var onClick = _this.props.onClick;\n          if (isFunction(onClick)) {\n            onClick(_nextState2, e);\n          }\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseDown\", function (e) {\n        var onMouseDown = _this.props.onMouseDown;\n        if (isFunction(onMouseDown)) {\n          var _nextState3 = _this.getMouseInfo(e);\n          onMouseDown(_nextState3, e);\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleMouseUp\", function (e) {\n        var onMouseUp = _this.props.onMouseUp;\n        if (isFunction(onMouseUp)) {\n          var _nextState4 = _this.getMouseInfo(e);\n          onMouseUp(_nextState4, e);\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleTouchMove\", function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.throttleTriggeredAfterMouseMove(e.changedTouches[0]);\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleTouchStart\", function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseDown(e.changedTouches[0]);\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"handleTouchEnd\", function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseUp(e.changedTouches[0]);\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"triggerSyncEvent\", function (data) {\n        if (_this.props.syncId !== undefined) {\n          eventCenter.emit(SYNC_EVENT, _this.props.syncId, data, _this.eventEmitterSymbol);\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"applySyncEvent\", function (data) {\n        var _this$props = _this.props,\n          layout = _this$props.layout,\n          syncMethod = _this$props.syncMethod;\n        var updateId = _this.state.updateId;\n        var dataStartIndex = data.dataStartIndex,\n          dataEndIndex = data.dataEndIndex;\n        if (data.dataStartIndex !== undefined || data.dataEndIndex !== undefined) {\n          _this.setState(_objectSpread({\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }, updateStateOfAxisMapsOffsetAndStackGroups({\n            props: _this.props,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex,\n            updateId: updateId\n          }, _this.state)));\n        } else if (data.activeTooltipIndex !== undefined) {\n          var chartX = data.chartX,\n            chartY = data.chartY;\n          var activeTooltipIndex = data.activeTooltipIndex;\n          var _this$state2 = _this.state,\n            offset = _this$state2.offset,\n            tooltipTicks = _this$state2.tooltipTicks;\n          if (!offset) {\n            return;\n          }\n          if (typeof syncMethod === 'function') {\n            // Call a callback function. If there is an application specific algorithm\n            activeTooltipIndex = syncMethod(tooltipTicks, data);\n          } else if (syncMethod === 'value') {\n            // Set activeTooltipIndex to the index with the same value as data.activeLabel\n            // For loop instead of findIndex because the latter is very slow in some browsers\n            activeTooltipIndex = -1; // in case we cannot find the element\n            for (var i = 0; i < tooltipTicks.length; i++) {\n              if (tooltipTicks[i].value === data.activeLabel) {\n                activeTooltipIndex = i;\n                break;\n              }\n            }\n          }\n          var viewBox = _objectSpread(_objectSpread({}, offset), {}, {\n            x: offset.left,\n            y: offset.top\n          });\n          // When a categorical chart is combined with another chart, the value of chartX\n          // and chartY may beyond the boundaries.\n          var validateChartX = Math.min(chartX, viewBox.x + viewBox.width);\n          var validateChartY = Math.min(chartY, viewBox.y + viewBox.height);\n          var activeLabel = tooltipTicks[activeTooltipIndex] && tooltipTicks[activeTooltipIndex].value;\n          var activePayload = getTooltipContent(_this.state, _this.props.data, activeTooltipIndex);\n          var activeCoordinate = tooltipTicks[activeTooltipIndex] ? {\n            x: layout === 'horizontal' ? tooltipTicks[activeTooltipIndex].coordinate : validateChartX,\n            y: layout === 'horizontal' ? validateChartY : tooltipTicks[activeTooltipIndex].coordinate\n          } : originCoordinate;\n          _this.setState(_objectSpread(_objectSpread({}, data), {}, {\n            activeLabel: activeLabel,\n            activeCoordinate: activeCoordinate,\n            activePayload: activePayload,\n            activeTooltipIndex: activeTooltipIndex\n          }));\n        } else {\n          _this.setState(data);\n        }\n      });\n      _defineProperty(_assertThisInitialized(_this), \"verticalCoordinatesGenerator\", function (_ref10, syncWithTicks) {\n        var xAxis = _ref10.xAxis,\n          width = _ref10.width,\n          height = _ref10.height,\n          offset = _ref10.offset;\n        return getCoordinatesOfGrid(getTicks(_objectSpread(_objectSpread(_objectSpread({}, CartesianAxis.defaultProps), xAxis), {}, {\n          ticks: getTicksOfAxis(xAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.left, offset.left + offset.width, syncWithTicks);\n      });\n      _defineProperty(_assertThisInitialized(_this), \"horizontalCoordinatesGenerator\", function (_ref11, syncWithTicks) {\n        var yAxis = _ref11.yAxis,\n          width = _ref11.width,\n          height = _ref11.height,\n          offset = _ref11.offset;\n        return getCoordinatesOfGrid(getTicks(_objectSpread(_objectSpread(_objectSpread({}, CartesianAxis.defaultProps), yAxis), {}, {\n          ticks: getTicksOfAxis(yAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.top, offset.top + offset.height, syncWithTicks);\n      });\n      _defineProperty(_assertThisInitialized(_this), \"axesTicksGenerator\", function (axis) {\n        return getTicksOfAxis(axis, true);\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderCursor\", function (element) {\n        var _element$props$active;\n        var _this$state3 = _this.state,\n          isTooltipActive = _this$state3.isTooltipActive,\n          activeCoordinate = _this$state3.activeCoordinate,\n          activePayload = _this$state3.activePayload,\n          offset = _this$state3.offset,\n          activeTooltipIndex = _this$state3.activeTooltipIndex,\n          tooltipAxisBandSize = _this$state3.tooltipAxisBandSize;\n        var tooltipEventType = _this.getTooltipEventType();\n        // The cursor is a part of the Tooltip, and it should be shown (by default) when the Tooltip is active.\n        var isActive = (_element$props$active = element.props.active) !== null && _element$props$active !== void 0 ? _element$props$active : isTooltipActive;\n        if (!element || !element.props.cursor || !isActive || !activeCoordinate || chartName !== 'ScatterChart' && tooltipEventType !== 'axis') {\n          return null;\n        }\n        var layout = _this.props.layout;\n        var restProps;\n        var cursorComp = Curve;\n        if (chartName === 'ScatterChart') {\n          restProps = activeCoordinate;\n          cursorComp = Cross;\n        } else if (chartName === 'BarChart') {\n          restProps = getCursorRectangle(layout, activeCoordinate, offset, tooltipAxisBandSize);\n          cursorComp = Rectangle;\n        } else if (layout === 'radial') {\n          var _getRadialCursorPoint = getRadialCursorPoints(activeCoordinate),\n            cx = _getRadialCursorPoint.cx,\n            cy = _getRadialCursorPoint.cy,\n            radius = _getRadialCursorPoint.radius,\n            startAngle = _getRadialCursorPoint.startAngle,\n            endAngle = _getRadialCursorPoint.endAngle;\n          restProps = {\n            cx: cx,\n            cy: cy,\n            startAngle: startAngle,\n            endAngle: endAngle,\n            innerRadius: radius,\n            outerRadius: radius\n          };\n          cursorComp = Sector;\n        } else {\n          restProps = {\n            points: getCursorPoints(layout, activeCoordinate, offset)\n          };\n          cursorComp = Curve;\n        }\n        var key = element.key || '_recharts-cursor';\n        var cursorProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread({\n          stroke: '#ccc',\n          pointerEvents: 'none'\n        }, offset), restProps), filterProps(element.props.cursor)), {}, {\n          payload: activePayload,\n          payloadIndex: activeTooltipIndex,\n          key: key,\n          className: 'recharts-tooltip-cursor'\n        });\n        return /*#__PURE__*/isValidElement(element.props.cursor) ? /*#__PURE__*/cloneElement(element.props.cursor, cursorProps) : /*#__PURE__*/createElement(cursorComp, cursorProps);\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderPolarAxis\", function (element, displayName, index) {\n        var axisType = get(element, 'type.axisType');\n        var axisMap = get(_this.state, \"\".concat(axisType, \"Map\"));\n        var axisOption = axisMap && axisMap[element.props[\"\".concat(axisType, \"Id\")]];\n        return /*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread({}, axisOption), {}, {\n          className: axisType,\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          ticks: getTicksOfAxis(axisOption, true)\n        }));\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderXAxis\", function (element, displayName, index) {\n        var xAxisMap = _this.state.xAxisMap;\n        var axisObj = xAxisMap[element.props.xAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderYAxis\", function (element, displayName, index) {\n        var yAxisMap = _this.state.yAxisMap;\n        var axisObj = yAxisMap[element.props.yAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      });\n      /**\n       * Draw grid\n       * @param  {ReactElement} element the grid item\n       * @return {ReactElement} The instance of grid\n       */\n      _defineProperty(_assertThisInitialized(_this), \"renderGrid\", function (element) {\n        var _this$state4 = _this.state,\n          xAxisMap = _this$state4.xAxisMap,\n          yAxisMap = _this$state4.yAxisMap,\n          offset = _this$state4.offset;\n        var _this$props2 = _this.props,\n          width = _this$props2.width,\n          height = _this$props2.height;\n        var xAxis = getAnyElementOfObject(xAxisMap);\n        var yAxisWithFiniteDomain = find(yAxisMap, function (axis) {\n          return every(axis.domain, Number.isFinite);\n        });\n        var yAxis = yAxisWithFiniteDomain || getAnyElementOfObject(yAxisMap);\n        var props = element.props || {};\n        return /*#__PURE__*/cloneElement(element, {\n          key: element.key || 'grid',\n          x: isNumber(props.x) ? props.x : offset.left,\n          y: isNumber(props.y) ? props.y : offset.top,\n          width: isNumber(props.width) ? props.width : offset.width,\n          height: isNumber(props.height) ? props.height : offset.height,\n          xAxis: xAxis,\n          yAxis: yAxis,\n          offset: offset,\n          chartWidth: width,\n          chartHeight: height,\n          verticalCoordinatesGenerator: props.verticalCoordinatesGenerator || _this.verticalCoordinatesGenerator,\n          horizontalCoordinatesGenerator: props.horizontalCoordinatesGenerator || _this.horizontalCoordinatesGenerator\n        });\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderPolarGrid\", function (element) {\n        var _element$props = element.props,\n          radialLines = _element$props.radialLines,\n          polarAngles = _element$props.polarAngles,\n          polarRadius = _element$props.polarRadius;\n        var _this$state5 = _this.state,\n          radiusAxisMap = _this$state5.radiusAxisMap,\n          angleAxisMap = _this$state5.angleAxisMap;\n        var radiusAxis = getAnyElementOfObject(radiusAxisMap);\n        var angleAxis = getAnyElementOfObject(angleAxisMap);\n        var cx = angleAxis.cx,\n          cy = angleAxis.cy,\n          innerRadius = angleAxis.innerRadius,\n          outerRadius = angleAxis.outerRadius;\n        return /*#__PURE__*/cloneElement(element, {\n          polarAngles: Array.isArray(polarAngles) ? polarAngles : getTicksOfAxis(angleAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          polarRadius: Array.isArray(polarRadius) ? polarRadius : getTicksOfAxis(radiusAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          cx: cx,\n          cy: cy,\n          innerRadius: innerRadius,\n          outerRadius: outerRadius,\n          key: element.key || 'polar-grid',\n          radialLines: radialLines\n        });\n      });\n      /**\n       * Draw legend\n       * @return {ReactElement}            The instance of Legend\n       */\n      _defineProperty(_assertThisInitialized(_this), \"renderLegend\", function () {\n        var formattedGraphicalItems = _this.state.formattedGraphicalItems;\n        var _this$props3 = _this.props,\n          children = _this$props3.children,\n          width = _this$props3.width,\n          height = _this$props3.height;\n        var margin = _this.props.margin || {};\n        var legendWidth = width - (margin.left || 0) - (margin.right || 0);\n        var props = getLegendProps({\n          children: children,\n          formattedGraphicalItems: formattedGraphicalItems,\n          legendWidth: legendWidth,\n          legendContent: legendContent\n        });\n        if (!props) {\n          return null;\n        }\n        var item = props.item,\n          otherProps = _objectWithoutProperties(props, _excluded);\n        return /*#__PURE__*/cloneElement(item, _objectSpread(_objectSpread({}, otherProps), {}, {\n          chartWidth: width,\n          chartHeight: height,\n          margin: margin,\n          onBBoxUpdate: _this.handleLegendBBoxUpdate\n        }));\n      });\n      /**\n       * Draw Tooltip\n       * @return {ReactElement}  The instance of Tooltip\n       */\n      _defineProperty(_assertThisInitialized(_this), \"renderTooltip\", function () {\n        var _tooltipItem$props$ac;\n        var children = _this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip);\n        if (!tooltipItem) {\n          return null;\n        }\n        var _this$state6 = _this.state,\n          isTooltipActive = _this$state6.isTooltipActive,\n          activeCoordinate = _this$state6.activeCoordinate,\n          activePayload = _this$state6.activePayload,\n          activeLabel = _this$state6.activeLabel,\n          offset = _this$state6.offset;\n\n        // The user can set isActive on the Tooltip,\n        // and we respect the user to enable customisation.\n        // The Tooltip is active if the user has set isActive, or if the tooltip is active due to a mouse event.\n        var isActive = (_tooltipItem$props$ac = tooltipItem.props.active) !== null && _tooltipItem$props$ac !== void 0 ? _tooltipItem$props$ac : isTooltipActive;\n        return /*#__PURE__*/cloneElement(tooltipItem, {\n          viewBox: _objectSpread(_objectSpread({}, offset), {}, {\n            x: offset.left,\n            y: offset.top\n          }),\n          active: isActive,\n          label: activeLabel,\n          payload: isActive ? activePayload : [],\n          coordinate: activeCoordinate\n        });\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderBrush\", function (element) {\n        var _this$props4 = _this.props,\n          margin = _this$props4.margin,\n          data = _this$props4.data;\n        var _this$state7 = _this.state,\n          offset = _this$state7.offset,\n          dataStartIndex = _this$state7.dataStartIndex,\n          dataEndIndex = _this$state7.dataEndIndex,\n          updateId = _this$state7.updateId;\n\n        // TODO: update brush when children update\n        return /*#__PURE__*/cloneElement(element, {\n          key: element.key || '_recharts-brush',\n          onChange: combineEventHandlers(_this.handleBrushChange, element.props.onChange),\n          data: data,\n          x: isNumber(element.props.x) ? element.props.x : offset.left,\n          y: isNumber(element.props.y) ? element.props.y : offset.top + offset.height + offset.brushBottom - (margin.bottom || 0),\n          width: isNumber(element.props.width) ? element.props.width : offset.width,\n          startIndex: dataStartIndex,\n          endIndex: dataEndIndex,\n          updateId: \"brush-\".concat(updateId)\n        });\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderReferenceElement\", function (element, displayName, index) {\n        if (!element) {\n          return null;\n        }\n        var _assertThisInitialize = _assertThisInitialized(_this),\n          clipPathId = _assertThisInitialize.clipPathId;\n        var _this$state8 = _this.state,\n          xAxisMap = _this$state8.xAxisMap,\n          yAxisMap = _this$state8.yAxisMap,\n          offset = _this$state8.offset;\n        var _element$props2 = element.props,\n          xAxisId = _element$props2.xAxisId,\n          yAxisId = _element$props2.yAxisId;\n        return /*#__PURE__*/cloneElement(element, {\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          xAxis: xAxisMap[xAxisId],\n          yAxis: yAxisMap[yAxisId],\n          viewBox: {\n            x: offset.left,\n            y: offset.top,\n            width: offset.width,\n            height: offset.height\n          },\n          clipPathId: clipPathId\n        });\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderActivePoints\", function (_ref12) {\n        var item = _ref12.item,\n          activePoint = _ref12.activePoint,\n          basePoint = _ref12.basePoint,\n          childIndex = _ref12.childIndex,\n          isRange = _ref12.isRange;\n        var result = [];\n        var key = item.props.key;\n        var _item$item$props = item.item.props,\n          activeDot = _item$item$props.activeDot,\n          dataKey = _item$item$props.dataKey;\n        var dotProps = _objectSpread(_objectSpread({\n          index: childIndex,\n          dataKey: dataKey,\n          cx: activePoint.x,\n          cy: activePoint.y,\n          r: 4,\n          fill: getMainColorOfGraphicItem(item.item),\n          strokeWidth: 2,\n          stroke: '#fff',\n          payload: activePoint.payload,\n          value: activePoint.value,\n          key: \"\".concat(key, \"-activePoint-\").concat(childIndex)\n        }, filterProps(activeDot)), adaptEventHandlers(activeDot));\n        result.push(CategoricalChartWrapper.renderActiveDot(activeDot, dotProps));\n        if (basePoint) {\n          result.push(CategoricalChartWrapper.renderActiveDot(activeDot, _objectSpread(_objectSpread({}, dotProps), {}, {\n            cx: basePoint.x,\n            cy: basePoint.y,\n            key: \"\".concat(key, \"-basePoint-\").concat(childIndex)\n          })));\n        } else if (isRange) {\n          result.push(null);\n        }\n        return result;\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderGraphicChild\", function (element, displayName, index) {\n        var item = _this.filterFormatItem(element, displayName, index);\n        if (!item) {\n          return null;\n        }\n        var tooltipEventType = _this.getTooltipEventType();\n        var _this$state9 = _this.state,\n          isTooltipActive = _this$state9.isTooltipActive,\n          tooltipAxis = _this$state9.tooltipAxis,\n          activeTooltipIndex = _this$state9.activeTooltipIndex,\n          activeLabel = _this$state9.activeLabel;\n        var children = _this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip);\n        var _item$props2 = item.props,\n          points = _item$props2.points,\n          isRange = _item$props2.isRange,\n          baseLine = _item$props2.baseLine;\n        var _item$item$props2 = item.item.props,\n          activeDot = _item$item$props2.activeDot,\n          hide = _item$item$props2.hide,\n          activeBar = _item$item$props2.activeBar,\n          activeShape = _item$item$props2.activeShape;\n        var hasActive = Boolean(!hide && isTooltipActive && tooltipItem && (activeDot || activeBar || activeShape));\n        var itemEvents = {};\n        if (tooltipEventType !== 'axis' && tooltipItem && tooltipItem.props.trigger === 'click') {\n          itemEvents = {\n            onClick: combineEventHandlers(_this.handleItemMouseEnter, element.props.onClick)\n          };\n        } else if (tooltipEventType !== 'axis') {\n          itemEvents = {\n            onMouseLeave: combineEventHandlers(_this.handleItemMouseLeave, element.props.onMouseLeave),\n            onMouseEnter: combineEventHandlers(_this.handleItemMouseEnter, element.props.onMouseEnter)\n          };\n        }\n        var graphicalItem = /*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread({}, item.props), itemEvents));\n        function findWithPayload(entry) {\n          // TODO needs to verify dataKey is Function\n          return typeof tooltipAxis.dataKey === 'function' ? tooltipAxis.dataKey(entry.payload) : null;\n        }\n        if (hasActive) {\n          if (activeTooltipIndex >= 0) {\n            var activePoint, basePoint;\n            if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n              // number transform to string\n              var specifiedKey = typeof tooltipAxis.dataKey === 'function' ? findWithPayload : 'payload.'.concat(tooltipAxis.dataKey.toString());\n              activePoint = findEntryInArray(points, specifiedKey, activeLabel);\n              basePoint = isRange && baseLine && findEntryInArray(baseLine, specifiedKey, activeLabel);\n            } else {\n              activePoint = points === null || points === void 0 ? void 0 : points[activeTooltipIndex];\n              basePoint = isRange && baseLine && baseLine[activeTooltipIndex];\n            }\n            if (activeShape || activeBar) {\n              var activeIndex = element.props.activeIndex !== undefined ? element.props.activeIndex : activeTooltipIndex;\n              return [/*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread(_objectSpread({}, item.props), itemEvents), {}, {\n                activeIndex: activeIndex\n              })), null, null];\n            }\n            if (!isNil(activePoint)) {\n              return [graphicalItem].concat(_toConsumableArray(_this.renderActivePoints({\n                item: item,\n                activePoint: activePoint,\n                basePoint: basePoint,\n                childIndex: activeTooltipIndex,\n                isRange: isRange\n              })));\n            }\n          } else {\n            var _this$getItemByXY;\n            /**\n             * We hit this block if consumer uses a Tooltip without XAxis and/or YAxis.\n             * In which case, this.state.activeTooltipIndex never gets set\n             * because the mouse events that trigger that value getting set never get trigged without the axis components.\n             *\n             * An example usage case is a FunnelChart\n             */\n            var _ref13 = (_this$getItemByXY = _this.getItemByXY(_this.state.activeCoordinate)) !== null && _this$getItemByXY !== void 0 ? _this$getItemByXY : {\n                graphicalItem: graphicalItem\n              },\n              _ref13$graphicalItem = _ref13.graphicalItem,\n              _ref13$graphicalItem$ = _ref13$graphicalItem.item,\n              xyItem = _ref13$graphicalItem$ === void 0 ? element : _ref13$graphicalItem$,\n              childIndex = _ref13$graphicalItem.childIndex;\n            var elementProps = _objectSpread(_objectSpread(_objectSpread({}, item.props), itemEvents), {}, {\n              activeIndex: childIndex\n            });\n            return [/*#__PURE__*/cloneElement(xyItem, elementProps), null, null];\n          }\n        }\n        if (isRange) {\n          return [graphicalItem, null, null];\n        }\n        return [graphicalItem, null];\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderCustomized\", function (element, displayName, index) {\n        return /*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread({\n          key: \"recharts-customized-\".concat(index)\n        }, _this.props), _this.state));\n      });\n      _defineProperty(_assertThisInitialized(_this), \"renderMap\", {\n        CartesianGrid: {\n          handler: _this.renderGrid,\n          once: true\n        },\n        ReferenceArea: {\n          handler: _this.renderReferenceElement\n        },\n        ReferenceLine: {\n          handler: _this.renderReferenceElement\n        },\n        ReferenceDot: {\n          handler: _this.renderReferenceElement\n        },\n        XAxis: {\n          handler: _this.renderXAxis\n        },\n        YAxis: {\n          handler: _this.renderYAxis\n        },\n        Brush: {\n          handler: _this.renderBrush,\n          once: true\n        },\n        Bar: {\n          handler: _this.renderGraphicChild\n        },\n        Line: {\n          handler: _this.renderGraphicChild\n        },\n        Area: {\n          handler: _this.renderGraphicChild\n        },\n        Radar: {\n          handler: _this.renderGraphicChild\n        },\n        RadialBar: {\n          handler: _this.renderGraphicChild\n        },\n        Scatter: {\n          handler: _this.renderGraphicChild\n        },\n        Pie: {\n          handler: _this.renderGraphicChild\n        },\n        Funnel: {\n          handler: _this.renderGraphicChild\n        },\n        Tooltip: {\n          handler: _this.renderCursor,\n          once: true\n        },\n        PolarGrid: {\n          handler: _this.renderPolarGrid,\n          once: true\n        },\n        PolarAngleAxis: {\n          handler: _this.renderPolarAxis\n        },\n        PolarRadiusAxis: {\n          handler: _this.renderPolarAxis\n        },\n        Customized: {\n          handler: _this.renderCustomized\n        }\n      });\n      _this.clipPathId = \"\".concat((_props$id = _props.id) !== null && _props$id !== void 0 ? _props$id : uniqueId('recharts'), \"-clip\");\n\n      // trigger 60fps\n      _this.throttleTriggeredAfterMouseMove = throttle(_this.triggeredAfterMouseMove, (_props$throttleDelay = _props.throttleDelay) !== null && _props$throttleDelay !== void 0 ? _props$throttleDelay : 1000 / 60);\n      _this.state = {};\n      return _this;\n    }\n    _createClass(CategoricalChartWrapper, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this$props$margin$le, _this$props$margin$to;\n        this.addListener();\n        this.accessibilityManager.setDetails({\n          container: this.container,\n          offset: {\n            left: (_this$props$margin$le = this.props.margin.left) !== null && _this$props$margin$le !== void 0 ? _this$props$margin$le : 0,\n            top: (_this$props$margin$to = this.props.margin.top) !== null && _this$props$margin$to !== void 0 ? _this$props$margin$to : 0\n          },\n          coordinateList: this.state.tooltipTicks,\n          mouseHandlerCallback: this.triggeredAfterMouseMove,\n          layout: this.props.layout\n        });\n      }\n    }, {\n      key: \"getSnapshotBeforeUpdate\",\n      value: function getSnapshotBeforeUpdate(prevProps, prevState) {\n        if (!this.props.accessibilityLayer) {\n          return null;\n        }\n        if (this.state.tooltipTicks !== prevState.tooltipTicks) {\n          this.accessibilityManager.setDetails({\n            coordinateList: this.state.tooltipTicks\n          });\n        }\n        if (this.props.layout !== prevProps.layout) {\n          this.accessibilityManager.setDetails({\n            layout: this.props.layout\n          });\n        }\n        if (this.props.margin !== prevProps.margin) {\n          var _this$props$margin$le2, _this$props$margin$to2;\n          this.accessibilityManager.setDetails({\n            offset: {\n              left: (_this$props$margin$le2 = this.props.margin.left) !== null && _this$props$margin$le2 !== void 0 ? _this$props$margin$le2 : 0,\n              top: (_this$props$margin$to2 = this.props.margin.top) !== null && _this$props$margin$to2 !== void 0 ? _this$props$margin$to2 : 0\n            }\n          });\n        }\n\n        // Something has to be returned for getSnapshotBeforeUpdate\n        return null;\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value:\n      // eslint-disable-next-line @typescript-eslint/no-empty-function\n      function componentDidUpdate() {}\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.removeListener();\n        this.throttleTriggeredAfterMouseMove.cancel();\n      }\n    }, {\n      key: \"getTooltipEventType\",\n      value: function getTooltipEventType() {\n        var tooltipItem = findChildByType(this.props.children, Tooltip);\n        if (tooltipItem && typeof tooltipItem.props.shared === 'boolean') {\n          var eventType = tooltipItem.props.shared ? 'axis' : 'item';\n          return validateTooltipEventTypes.indexOf(eventType) >= 0 ? eventType : defaultTooltipEventType;\n        }\n        return defaultTooltipEventType;\n      }\n\n      /**\n       * Get the information of mouse in chart, return null when the mouse is not in the chart\n       * @param  {MousePointer} event    The event object\n       * @return {Object}          Mouse data\n       */\n    }, {\n      key: \"getMouseInfo\",\n      value: function getMouseInfo(event) {\n        if (!this.container) {\n          return null;\n        }\n        var element = this.container;\n        var boundingRect = element.getBoundingClientRect();\n        var containerOffset = getOffset(boundingRect);\n        var e = {\n          chartX: Math.round(event.pageX - containerOffset.left),\n          chartY: Math.round(event.pageY - containerOffset.top)\n        };\n        var scale = boundingRect.width / element.offsetWidth || 1;\n        var rangeObj = this.inRange(e.chartX, e.chartY, scale);\n        if (!rangeObj) {\n          return null;\n        }\n        var _this$state10 = this.state,\n          xAxisMap = _this$state10.xAxisMap,\n          yAxisMap = _this$state10.yAxisMap;\n        var tooltipEventType = this.getTooltipEventType();\n        if (tooltipEventType !== 'axis' && xAxisMap && yAxisMap) {\n          var xScale = getAnyElementOfObject(xAxisMap).scale;\n          var yScale = getAnyElementOfObject(yAxisMap).scale;\n          var xValue = xScale && xScale.invert ? xScale.invert(e.chartX) : null;\n          var yValue = yScale && yScale.invert ? yScale.invert(e.chartY) : null;\n          return _objectSpread(_objectSpread({}, e), {}, {\n            xValue: xValue,\n            yValue: yValue\n          });\n        }\n        var toolTipData = getTooltipData(this.state, this.props.data, this.props.layout, rangeObj);\n        if (toolTipData) {\n          return _objectSpread(_objectSpread({}, e), toolTipData);\n        }\n        return null;\n      }\n    }, {\n      key: \"inRange\",\n      value: function inRange(x, y) {\n        var scale = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n        var layout = this.props.layout;\n        var scaledX = x / scale,\n          scaledY = y / scale;\n        if (layout === 'horizontal' || layout === 'vertical') {\n          var offset = this.state.offset;\n          var isInRange = scaledX >= offset.left && scaledX <= offset.left + offset.width && scaledY >= offset.top && scaledY <= offset.top + offset.height;\n          return isInRange ? {\n            x: scaledX,\n            y: scaledY\n          } : null;\n        }\n        var _this$state11 = this.state,\n          angleAxisMap = _this$state11.angleAxisMap,\n          radiusAxisMap = _this$state11.radiusAxisMap;\n        if (angleAxisMap && radiusAxisMap) {\n          var angleAxis = getAnyElementOfObject(angleAxisMap);\n          return inRangeOfSector({\n            x: scaledX,\n            y: scaledY\n          }, angleAxis);\n        }\n        return null;\n      }\n    }, {\n      key: \"parseEventsOfWrapper\",\n      value: function parseEventsOfWrapper() {\n        var children = this.props.children;\n        var tooltipEventType = this.getTooltipEventType();\n        var tooltipItem = findChildByType(children, Tooltip);\n        var tooltipEvents = {};\n        if (tooltipItem && tooltipEventType === 'axis') {\n          if (tooltipItem.props.trigger === 'click') {\n            tooltipEvents = {\n              onClick: this.handleClick\n            };\n          } else {\n            tooltipEvents = {\n              onMouseEnter: this.handleMouseEnter,\n              onMouseMove: this.handleMouseMove,\n              onMouseLeave: this.handleMouseLeave,\n              onTouchMove: this.handleTouchMove,\n              onTouchStart: this.handleTouchStart,\n              onTouchEnd: this.handleTouchEnd\n            };\n          }\n        }\n\n        // @ts-expect-error adaptEventHandlers expects DOM Event but generateCategoricalChart works with React UIEvents\n        var outerEvents = adaptEventHandlers(this.props, this.handleOuterEvent);\n        return _objectSpread(_objectSpread({}, outerEvents), tooltipEvents);\n      }\n    }, {\n      key: \"addListener\",\n      value: function addListener() {\n        eventCenter.on(SYNC_EVENT, this.handleReceiveSyncEvent);\n      }\n    }, {\n      key: \"removeListener\",\n      value: function removeListener() {\n        eventCenter.removeListener(SYNC_EVENT, this.handleReceiveSyncEvent);\n      }\n    }, {\n      key: \"filterFormatItem\",\n      value: function filterFormatItem(item, displayName, childIndex) {\n        var formattedGraphicalItems = this.state.formattedGraphicalItems;\n        for (var i = 0, len = formattedGraphicalItems.length; i < len; i++) {\n          var entry = formattedGraphicalItems[i];\n          if (entry.item === item || entry.props.key === item.key || displayName === getDisplayName(entry.item.type) && childIndex === entry.childIndex) {\n            return entry;\n          }\n        }\n        return null;\n      }\n    }, {\n      key: \"renderAxis\",\n      value:\n      /**\n       * Draw axis\n       * @param {Object} axisOptions The options of axis\n       * @param {Object} element      The axis element\n       * @param {String} displayName  The display name of axis\n       * @param {Number} index        The index of element\n       * @return {ReactElement}       The instance of x-axes\n       */\n      function renderAxis(axisOptions, element, displayName, index) {\n        var _this$props5 = this.props,\n          width = _this$props5.width,\n          height = _this$props5.height;\n        return /*#__PURE__*/React.createElement(CartesianAxis, _extends({}, axisOptions, {\n          className: clsx(\"recharts-\".concat(axisOptions.axisType, \" \").concat(axisOptions.axisType), axisOptions.className),\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          },\n          ticksGenerator: this.axesTicksGenerator\n        }));\n      }\n    }, {\n      key: \"renderClipPath\",\n      value: function renderClipPath() {\n        var clipPathId = this.clipPathId;\n        var _this$state$offset = this.state.offset,\n          left = _this$state$offset.left,\n          top = _this$state$offset.top,\n          height = _this$state$offset.height,\n          width = _this$state$offset.width;\n        return /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n          id: clipPathId\n        }, /*#__PURE__*/React.createElement(\"rect\", {\n          x: left,\n          y: top,\n          height: height,\n          width: width\n        })));\n      }\n    }, {\n      key: \"getXScales\",\n      value: function getXScales() {\n        var xAxisMap = this.state.xAxisMap;\n        return xAxisMap ? Object.entries(xAxisMap).reduce(function (res, _ref14) {\n          var _ref15 = _slicedToArray(_ref14, 2),\n            axisId = _ref15[0],\n            axisProps = _ref15[1];\n          return _objectSpread(_objectSpread({}, res), {}, _defineProperty({}, axisId, axisProps.scale));\n        }, {}) : null;\n      }\n    }, {\n      key: \"getYScales\",\n      value: function getYScales() {\n        var yAxisMap = this.state.yAxisMap;\n        return yAxisMap ? Object.entries(yAxisMap).reduce(function (res, _ref16) {\n          var _ref17 = _slicedToArray(_ref16, 2),\n            axisId = _ref17[0],\n            axisProps = _ref17[1];\n          return _objectSpread(_objectSpread({}, res), {}, _defineProperty({}, axisId, axisProps.scale));\n        }, {}) : null;\n      }\n    }, {\n      key: \"getXScaleByAxisId\",\n      value: function getXScaleByAxisId(axisId) {\n        var _this$state$xAxisMap;\n        return (_this$state$xAxisMap = this.state.xAxisMap) === null || _this$state$xAxisMap === void 0 || (_this$state$xAxisMap = _this$state$xAxisMap[axisId]) === null || _this$state$xAxisMap === void 0 ? void 0 : _this$state$xAxisMap.scale;\n      }\n    }, {\n      key: \"getYScaleByAxisId\",\n      value: function getYScaleByAxisId(axisId) {\n        var _this$state$yAxisMap;\n        return (_this$state$yAxisMap = this.state.yAxisMap) === null || _this$state$yAxisMap === void 0 || (_this$state$yAxisMap = _this$state$yAxisMap[axisId]) === null || _this$state$yAxisMap === void 0 ? void 0 : _this$state$yAxisMap.scale;\n      }\n    }, {\n      key: \"getItemByXY\",\n      value: function getItemByXY(chartXY) {\n        var _this$state12 = this.state,\n          formattedGraphicalItems = _this$state12.formattedGraphicalItems,\n          activeItem = _this$state12.activeItem;\n        if (formattedGraphicalItems && formattedGraphicalItems.length) {\n          for (var i = 0, len = formattedGraphicalItems.length; i < len; i++) {\n            var graphicalItem = formattedGraphicalItems[i];\n            var props = graphicalItem.props,\n              item = graphicalItem.item;\n            var itemDisplayName = getDisplayName(item.type);\n            if (itemDisplayName === 'Bar') {\n              var activeBarItem = (props.data || []).find(function (entry) {\n                return isInRectangle(chartXY, entry);\n              });\n              if (activeBarItem) {\n                return {\n                  graphicalItem: graphicalItem,\n                  payload: activeBarItem\n                };\n              }\n            } else if (itemDisplayName === 'RadialBar') {\n              var _activeBarItem = (props.data || []).find(function (entry) {\n                return inRangeOfSector(chartXY, entry);\n              });\n              if (_activeBarItem) {\n                return {\n                  graphicalItem: graphicalItem,\n                  payload: _activeBarItem\n                };\n              }\n            } else if (isFunnel(graphicalItem, activeItem) || isPie(graphicalItem, activeItem) || isScatter(graphicalItem, activeItem)) {\n              var activeIndex = getActiveShapeIndexForTooltip({\n                graphicalItem: graphicalItem,\n                activeTooltipItem: activeItem,\n                itemData: item.props.data\n              });\n              var childIndex = item.props.activeIndex === undefined ? activeIndex : item.props.activeIndex;\n              return {\n                graphicalItem: _objectSpread(_objectSpread({}, graphicalItem), {}, {\n                  childIndex: childIndex\n                }),\n                payload: isScatter(graphicalItem, activeItem) ? item.props.data[activeIndex] : graphicalItem.props.data[activeIndex]\n              };\n            }\n          }\n        }\n        return null;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n        if (!validateWidthHeight(this)) {\n          return null;\n        }\n        var _this$props6 = this.props,\n          children = _this$props6.children,\n          className = _this$props6.className,\n          width = _this$props6.width,\n          height = _this$props6.height,\n          style = _this$props6.style,\n          compact = _this$props6.compact,\n          title = _this$props6.title,\n          desc = _this$props6.desc,\n          others = _objectWithoutProperties(_this$props6, _excluded2);\n        var attrs = filterProps(others);\n\n        // The \"compact\" mode is mainly used as the panorama within Brush\n        if (compact) {\n          return /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n            width: width,\n            height: height,\n            title: title,\n            desc: desc\n          }), this.renderClipPath(), renderByOrder(children, this.renderMap));\n        }\n        if (this.props.accessibilityLayer) {\n          var _this$props$tabIndex, _this$props$role;\n          // Set tabIndex to 0 by default (can be overwritten)\n          attrs.tabIndex = (_this$props$tabIndex = this.props.tabIndex) !== null && _this$props$tabIndex !== void 0 ? _this$props$tabIndex : 0;\n          // Set role to img by default (can be overwritten)\n          attrs.role = (_this$props$role = this.props.role) !== null && _this$props$role !== void 0 ? _this$props$role : 'img';\n          attrs.onKeyDown = function (e) {\n            _this2.accessibilityManager.keyboardEvent(e);\n            // 'onKeyDown' is not currently a supported prop that can be passed through\n            // if it's added, this should be added: this.props.onKeyDown(e);\n          };\n\n          attrs.onFocus = function () {\n            _this2.accessibilityManager.focus();\n            // 'onFocus' is not currently a supported prop that can be passed through\n            // if it's added, the focus event should be forwarded to the prop\n          };\n        }\n\n        var events = this.parseEventsOfWrapper();\n        return /*#__PURE__*/React.createElement(\"div\", _extends({\n          className: clsx('recharts-wrapper', className),\n          style: _objectSpread({\n            position: 'relative',\n            cursor: 'default',\n            width: width,\n            height: height\n          }, style)\n        }, events, {\n          ref: function ref(node) {\n            _this2.container = node;\n          },\n          role: \"region\"\n        }), /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n          width: width,\n          height: height,\n          title: title,\n          desc: desc,\n          style: FULL_WIDTH_AND_HEIGHT\n        }), this.renderClipPath(), renderByOrder(children, this.renderMap)), this.renderLegend(), this.renderTooltip());\n      }\n    }]);\n    return CategoricalChartWrapper;\n  }(Component), _defineProperty(_class, \"displayName\", chartName), _defineProperty(_class, \"defaultProps\", _objectSpread({\n    layout: 'horizontal',\n    stackOffset: 'none',\n    barCategoryGap: '10%',\n    barGap: 4,\n    margin: {\n      top: 5,\n      right: 5,\n      bottom: 5,\n      left: 5\n    },\n    reverseStackOrder: false,\n    syncMethod: 'index'\n  }, defaultProps)), _defineProperty(_class, \"getDerivedStateFromProps\", function (nextProps, prevState) {\n    var dataKey = nextProps.dataKey,\n      data = nextProps.data,\n      children = nextProps.children,\n      width = nextProps.width,\n      height = nextProps.height,\n      layout = nextProps.layout,\n      stackOffset = nextProps.stackOffset,\n      margin = nextProps.margin;\n    if (prevState.updateId === undefined) {\n      var defaultState = createDefaultState(nextProps);\n      return _objectSpread(_objectSpread(_objectSpread({}, defaultState), {}, {\n        updateId: 0\n      }, updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread(_objectSpread({\n        props: nextProps\n      }, defaultState), {}, {\n        updateId: 0\n      }), prevState)), {}, {\n        prevDataKey: dataKey,\n        prevData: data,\n        prevWidth: width,\n        prevHeight: height,\n        prevLayout: layout,\n        prevStackOffset: stackOffset,\n        prevMargin: margin,\n        prevChildren: children\n      });\n    }\n    if (dataKey !== prevState.prevDataKey || data !== prevState.prevData || width !== prevState.prevWidth || height !== prevState.prevHeight || layout !== prevState.prevLayout || stackOffset !== prevState.prevStackOffset || !shallowEqual(margin, prevState.prevMargin)) {\n      var _defaultState = createDefaultState(nextProps);\n\n      // Fixes https://github.com/recharts/recharts/issues/2143\n      var keepFromPrevState = {\n        // (chartX, chartY) are (0,0) in default state, but we want to keep the last mouse position to avoid\n        // any flickering\n        chartX: prevState.chartX,\n        chartY: prevState.chartY,\n        // The tooltip should stay active when it was active in the previous render. If this is not\n        // the case, the tooltip disappears and immediately re-appears, causing a flickering effect\n        isTooltipActive: prevState.isTooltipActive\n      };\n      var updatesToState = _objectSpread(_objectSpread({}, getTooltipData(prevState, data, layout)), {}, {\n        updateId: prevState.updateId + 1\n      });\n      var newState = _objectSpread(_objectSpread(_objectSpread({}, _defaultState), keepFromPrevState), updatesToState);\n      return _objectSpread(_objectSpread(_objectSpread({}, newState), updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread({\n        props: nextProps\n      }, newState), prevState)), {}, {\n        prevDataKey: dataKey,\n        prevData: data,\n        prevWidth: width,\n        prevHeight: height,\n        prevLayout: layout,\n        prevStackOffset: stackOffset,\n        prevMargin: margin,\n        prevChildren: children\n      });\n    }\n    if (!isChildrenEqual(children, prevState.prevChildren)) {\n      // update configuration in children\n      var hasGlobalData = !isNil(data);\n      var newUpdateId = hasGlobalData ? prevState.updateId : prevState.updateId + 1;\n      return _objectSpread(_objectSpread({\n        updateId: newUpdateId\n      }, updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread(_objectSpread({\n        props: nextProps\n      }, prevState), {}, {\n        updateId: newUpdateId\n      }), prevState)), {}, {\n        prevChildren: children\n      });\n    }\n    return null;\n  }), _defineProperty(_class, \"renderActiveDot\", function (option, props) {\n    var dot;\n    if ( /*#__PURE__*/isValidElement(option)) {\n      dot = /*#__PURE__*/cloneElement(option, props);\n    } else if (isFunction(option)) {\n      dot = option(props);\n    } else {\n      dot = /*#__PURE__*/React.createElement(Dot, props);\n    }\n    return /*#__PURE__*/React.createElement(Layer, {\n      className: \"recharts-active-dot\",\n      key: props.key\n    }, dot);\n  }), _class;\n};"]},"metadata":{},"sourceType":"module"}